<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>åä¹‰è¯å¤§æŒ‘æˆ˜ - åŒäººå¯¹æˆ˜</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script defer src="./assets/achievements.js"></script>
    <script defer src="./wellness.js"></script>
    
    <!-- é…ç½®Tailwindè‡ªå®šä¹‰é¢œè‰²å’Œå­—ä½“ -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        player1: '#FF6B6B',
                        player2: '#4ECDC4',
                        neutral: '#F7FFF7',
                        accent: '#FFD166',
                        text: '#292F36'
                    },
                    fontFamily: {
                        kids: ['"Comic Sans MS"', '"Marker Felt"', 'Arial', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            }
            .bounce-light {
                animation: bounce-light 0.5s ease infinite alternate;
            }
            .pulse-slow {
                animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
            }
            .scale-hover {
                transition: transform 0.2s;
            }
            .scale-hover:hover {
                transform: scale(1.05);
            }
            .correct-animation {
                animation: correct 0.5s ease-in-out;
            }
            @keyframes bounce-light {
                from { transform: translateY(0); }
                to { transform: translateY(-5px); }
            }
            @keyframes correct {
                0% { transform: scale(1); }
                50% { transform: scale(1.2); }
                100% { transform: scale(1); }
            }
            
            /* æŒ‰é’®å®¹å™¨æ ·å¼ - ç”±JavaScriptåŠ¨æ€è®¾ç½® */
            

        }
    </style>
</head>
<body class="bg-gradient-to-b from-blue-50 to-indigo-50 min-h-screen font-kids text-text overflow-hidden">
    <!-- æç¤ºæ¡† - æ”¾åœ¨bodyçš„ç›´æ¥å­å…ƒç´ ä½ç½® -->
    <!-- ç©å®¶1æç¤ºæ¡† -->
    <div id="notification-player1" class="hidden fixed top-1/4 left-1/4 bg-white rounded-2xl shadow-2xl p-4 text-center z-[9999] transform rotate-90">
        <p id="notification-text-player1" class="text-xl font-bold mb-1"></p>
        <p id="notification-subtext-player1" class="text-lg text-gray-600 mb-1"></p>
    </div>
    
    <!-- ç©å®¶2æç¤ºæ¡† -->
    <div id="notification-player2" class="hidden fixed top-1/4 right-1/4 bg-white rounded-2xl shadow-2xl p-4 text-center z-[9999] transform -rotate-90">
        <p id="notification-text-player2" class="text-xl font-bold mb-1"></p>
        <p id="notification-subtext-player2" class="text-lg text-gray-600 mb-1"></p>
    </div>
    
    <!-- å¼€å§‹ç•Œé¢ -->
    <div id="start-screen" class="flex flex-col items-center justify-center h-screen p-6 z-30 relative">
        <!-- è¿”å›é¦–é¡µæŒ‰é’® -->
        <button onclick="window.location.href='index.html'" class="absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg transition-all duration-300 hover:scale-105 active:scale-95 text-sm font-bold text-gray-600 hover:text-gray-800 z-40">
            <i class="fa fa-home mr-2"></i>é¦–é¡µ
        </button>
        <div class="text-center max-w-lg mx-auto bg-white rounded-3xl shadow-2xl p-8 transform transition-all duration-500">
            <h1 class="text-[clamp(2rem,5vw,3rem)] font-bold text-transparent bg-clip-text bg-gradient-to-r from-player1 to-player2 mb-4">åä¹‰è¯å¤§æŒ‘æˆ˜</h1>
            <p class="text-lg mb-6">ä¸¤ä¸ªäººï¼Œä¸€äººä¸€è¾¹<br>æ‰¾å‡ºæ­£ç¡®çš„åä¹‰è¯ï¼Œçœ‹è°æ›´å¿«ï¼</p>
            
            <div class="flex justify-center mb-8">
                <div class="w-24 h-24 bg-player1 rounded-full flex items-center justify-center text-white text-4xl shadow-lg">
                    <i class="fa fa-user"></i>
                </div>
                <div class="mx-4 text-2xl flex items-center">VS</div>
                <div class="w-24 h-24 bg-player2 rounded-full flex items-center justify-center text-white text-4xl shadow-lg">
                    <i class="fa fa-user"></i>
                </div>
            </div>
            
            <!-- å€’è®¡æ—¶å¼€å…³ -->
            <div class="mb-6 flex items-center justify-center gap-4 bg-gray-50 rounded-2xl p-4">
                <i class="fa fa-clock-o text-gray-600"></i>
                <span class="text-gray-700 font-medium">å€’è®¡æ—¶æ¨¡å¼</span>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" id="timer-toggle" class="sr-only peer" checked>
                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                </label>
                <span class="text-xs text-gray-500" id="timer-description">æ¯é¢˜10ç§’é™æ—¶</span>
            </div>
            
            <div id="badge-preview" class="mt-6">
                <h3 class="text-sm font-bold mb-2">æˆ‘çš„å¾½ç« </h3>
                <div id="badge-preview-grid" class="flex justify-center gap-3 flex-wrap"></div>
                
            </div>

            <button id="start-btn" class="bg-accent hover:bg-yellow-400 text-text font-bold py-3 px-8 rounded-full text-xl shadow-lg transform transition-all duration-300 hover:scale-105 active:scale-95">
                å¼€å§‹æ¸¸æˆ <i class="fa fa-play ml-2"></i>
            </button>

            <div class="mt-6 text-sm text-gray-500">
                <p>é€‚åˆå¹´é¾„ï¼š6-9å²</p>
            </div>
        </div>
        
        <!-- è£…é¥°å…ƒç´  -->
        <div class="absolute top-10 left-10 text-5xl text-player1/30">
            <i class="fa fa-star bounce-light"></i>
        </div>
        <div class="absolute bottom-10 right-10 text-5xl text-player2/30">
            <i class="fa fa-heart bounce-light" style="animation-delay: 0.2s"></i>
        </div>
    </div>

    <script>
    (function(){
      const GAME_KEY = 'antonyms_duo';
      const badgeDefs = [
        { id: 'first_win', name: 'é¦–èƒœè¾¾æˆ', icon: 'ğŸ¯' },
        { id: 'combo_duo', name: 'è¿å‡»è¾¾äºº', icon: 'ğŸ”¥' },
        { id: 'speed_duel', name: 'æé€Ÿå¯¹å†³', icon: 'âš¡' },
        { id: 'round_master', name: 'å›åˆå¤§å¸ˆ', icon: 'ğŸ†' },
        { id: 'perfect_round', name: 'å®Œç¾å›åˆ', icon: 'ğŸ’' }
      ];
      function getEarnedIds(){
        try { return JSON.parse(localStorage.getItem('earnedAchievements_' + GAME_KEY) || '[]'); } catch(_) { return []; }
      }
      function renderBadgePreview(){
        const grid = document.getElementById('badge-preview-grid');
        if(!grid) return;
        const owned = new Set(getEarnedIds());
        grid.innerHTML = badgeDefs.map(a => {
          const earned = owned.has(a.id);
          const base = earned ? 'from-yellow-100 to-orange-100 border-yellow-300 text-amber-900' : 'from-gray-50 to-gray-100 border-gray-200 text-gray-400 opacity-80';
          return `
            <div class="relative w-20 h-20 rounded-2xl border-2 bg-gradient-to-br ${base} shadow-sm flex flex-col items-center justify-center overflow-hidden" title="${a.name}">
              <div class="text-2xl mb-1">${a.icon}</div>
              <div class="text-[10px] font-bold text-center leading-tight px-1">${a.name}</div>
          ${earned ? '<div class=\"absolute right-1 top-1 bg-amber-400 text-white text-[10px] px-1 rounded-full shadow\">å·²è·</div>' : '<div class=\"absolute right-1 top-1 bg-gray-400 text-white text-[10px] px-1 rounded-full shadow\">æœªè·</div>'}
            </div>`;
        }).join('');
      }
      document.addEventListener('DOMContentLoaded', renderBadgePreview);
    })();
    </script>
    <!-- æ¸¸æˆç•Œé¢ -->
    <div id="game-screen" class="hidden h-screen flex flex-col">
        <!-- é¡¶éƒ¨ä¿¡æ¯æ  -->
        <div class="flex justify-between items-center p-4 bg-white/80 backdrop-blur-sm shadow-md">
            <div class="flex items-center gap-3">
                <!-- è¿”å›é¦–é¡µæŒ‰é’® -->
                <button onclick="window.location.href='index.html'" class="bg-white/90 backdrop-blur-sm px-3 py-2 rounded-full shadow-md transition-all duration-300 hover:scale-105 active:scale-95 text-sm font-bold text-gray-600 hover:text-gray-800">
                    <i class="fa fa-home mr-1"></i><span class="hidden sm:inline">é¦–é¡µ</span>
                </button>
                <div class="bg-accent px-4 py-2 rounded-full text-sm font-bold shadow-md">
                    <span id="round-counter">ç¬¬1è½®</span> / å…±10è½®
                </div>
            </div>
            
            <div class="flex items-center gap-4">
                <!-- å¸ƒå±€åˆ‡æ¢æŒ‰é’® -->
                <button id="layout-toggle-btn" class="bg-white/90 backdrop-blur-sm px-4 py-2 rounded-full shadow-md transition-all duration-300 hover:scale-105 active:scale-95">
                    <i id="layout-icon" class="fa fa-mobile text-gray-600"></i>
                    <span id="layout-text" class="ml-2 text-sm font-bold text-gray-600">æ‰‹æœºç‰ˆ</span>
                </button>
                
                <!-- é”å®šæ—‹è½¬æŒ‰é’® -->
                <button id="lock-rotation-btn" class="bg-white/90 backdrop-blur-sm px-4 py-2 rounded-full shadow-md transition-all duration-300 hover:scale-105 active:scale-95">
                    <i id="lock-icon" class="fa fa-lock text-gray-600"></i>
                    <span id="lock-text" class="ml-2 text-sm font-bold text-gray-600">é”å®šæ—‹è½¬</span>
                </button>
                
                <div id="timer" class="text-2xl font-bold text-accent bg-white/90 backdrop-blur-sm px-6 py-2 rounded-full shadow-md">
                    <i class="fa fa-clock-o mr-2"></i><span id="countdown">5</span>
                </div>
            </div>
        </div>
        
        <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
        <div class="flex-1 flex overflow-hidden">
            <!-- å·¦ä¾§ç©å®¶1åŒºåŸŸ - 90åº¦é¡ºæ—¶é’ˆæ—‹è½¬ -->
            <div class="w-1/3 bg-player1/10 flex flex-col transform rotate-90 origin-center mr-24 -translate-x-20">
                <!-- ç©å®¶1åˆ†æ•°æ˜¾ç¤º -->
                <div class="text-center p-2">
                    <p class="text-player1 font-bold text-lg">ç©å®¶1</p>
                    <p id="score1" class="text-player1 font-bold text-3xl">0</p>
                </div>
                
                <!-- ç©å®¶1å€’è®¡æ—¶æ˜¾ç¤º -->
                <div class="text-center p-2">
                    <div class="bg-player1/20 rounded-lg p-2 inline-block">
                        <i class="fa fa-clock-o text-player1 mr-1"></i>
                        <span id="countdown-player1" class="text-player1 font-bold text-lg">5</span>
                    </div>
                </div>
                
                <!-- ç©å®¶1é€‰é¡¹åŒºåŸŸ -->
                <div class="flex-1 flex items-start justify-center p-16">
                    <div id="options-player1" class="grid grid-cols-2 gap-4 w-48 h-32">
                        <!-- é€‰é¡¹ä¼šåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>
            
            <!-- ä¸­é—´ç›®æ ‡å­—åŒºåŸŸ -->
            <div class="w-1/3 bg-white flex flex-col justify-center items-center p-4">
                <!-- ä¸Šæ–¹ç›®æ ‡å­—å¡ç‰‡ - è·Ÿç©å®¶1æ–¹å‘ä¸€è‡´ï¼ˆé¡ºæ—¶é’ˆæ—‹è½¬90åº¦ï¼‰ -->
                <div class="bg-white rounded-3xl shadow-2xl p-8 text-center mb-4 transform rotate-90">
                    <p class="text-gray-500 text-sm mb-1">æ‰¾å‡ºå®ƒçš„åä¹‰è¯ï¼</p>
                    <p class="text-[clamp(1.8rem,6vw,3rem)] font-bold text-text whitespace-nowrap" id="target-word">å¤§</p>
                    <p class="text-gray-400 text-xs mt-1" id="target-pinyin">dÃ </p>
                </div>
                
                <!-- ä¸‹æ–¹ç›®æ ‡å­—å¡ç‰‡ - è·Ÿç©å®¶2æ–¹å‘ä¸€è‡´ï¼ˆé€†æ—¶é’ˆæ—‹è½¬90åº¦ï¼‰ -->
                <div class="bg-white rounded-3xl shadow-2xl p-8 text-center transform -rotate-90 hidden" id="second-target-card">
                    <p class="text-gray-500 text-sm mb-1">æ‰¾å‡ºå®ƒçš„åä¹‰è¯ï¼</p>
                    <p class="text-[clamp(1.8rem,6vw,3rem)] font-bold text-text whitespace-nowrap" id="target-word-2">å¤§</p>
                    <p class="text-gray-400 text-xs mt-1" id="target-pinyin-2">dÃ </p>
                </div>
            </div>
            
            <!-- å³ä¾§ç©å®¶2åŒºåŸŸ - 90åº¦é€†æ—¶é’ˆæ—‹è½¬ -->
            <div class="w-1/3 bg-player2/10 flex flex-col transform -rotate-90 origin-center ml-24 translate-x-20">
                <!-- ç©å®¶2åˆ†æ•°æ˜¾ç¤º -->
                <div class="text-center p-2">
                    <p class="text-player2 font-bold text-lg">ç©å®¶2</p>
                    <p id="score2" class="text-player2 font-bold text-3xl">0</p>
                </div>
                
                <!-- ç©å®¶2å€’è®¡æ—¶æ˜¾ç¤º -->
                <div class="text-center p-2">
                    <div class="bg-player2/20 rounded-lg p-2 inline-block">
                        <i class="fa fa-clock-o text-player2 mr-1"></i>
                        <span id="countdown-player2" class="text-player2 font-bold text-lg">5</span>
                    </div>
                </div>
                
                <!-- ç©å®¶2é€‰é¡¹åŒºåŸŸ -->
                <div class="flex-1 flex items-start justify-center p-16">
                    <div id="options-player2" class="grid grid-cols-2 gap-4 w-48 h-32">
                        <!-- é€‰é¡¹ä¼šåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>
        </div>
        
    </div>
    
    <!-- ç»“æœç•Œé¢ -->
    <div id="result-screen" class="hidden flex flex-col items-center justify-center h-screen p-6 z-20 relative bg-white/90 backdrop-blur-md">
        <div class="text-center max-w-md mx-auto">
            <h2 class="text-[clamp(1.8rem,5vw,2.5rem)] font-bold mb-6">æ¸¸æˆç»“æŸï¼</h2>
            
            <div class="bg-neutral rounded-2xl shadow-lg p-6 mb-8">
                <div class="flex justify-between items-center mb-4 pb-4 border-b">
                    <div class="flex items-center">
                        <div class="w-10 h-10 bg-player1 rounded-full flex items-center justify-center text-white mr-2">
                            <i class="fa fa-user"></i>
                        </div>
                        <span class="font-bold">ç©å®¶1</span>
                    </div>
                    <span id="final-score1" class="text-2xl font-bold text-player1">0</span>
                </div>
                
                <div class="flex justify-between items-center">
                    <div class="flex items-center">
                        <div class="w-10 h-10 bg-player2 rounded-full flex items-center justify-center text-white mr-2">
                            <i class="fa fa-user"></i>
                        </div>
                        <span class="font-bold">ç©å®¶2</span>
                    </div>
                    <span id="final-score2" class="text-2xl font-bold text-player2">0</span>
                </div>
            </div>
            
            <div id="winner-message" class="text-xl font-bold mb-8 p-4 rounded-xl">
                å¹³å±€ï¼ä½ ä»¬éƒ½å¾ˆæ£’ï¼
            </div>
            
            <button id="restart-btn" class="bg-accent hover:bg-yellow-400 text-text font-bold py-3 px-8 rounded-full text-xl shadow-lg transform transition-all duration-300 hover:scale-105 active:scale-95">
                å†ç©ä¸€æ¬¡ <i class="fa fa-refresh ml-2"></i>
            </button>
        </div>
    </div>

    <script>
        // åä¹‰è¯æ•°æ®åº“ - 200å¯¹åä¹‰è¯ï¼ˆå«æ‹¼éŸ³ï¼‰
        const antonymsList = [
            // å½¢å®¹è¯ç±»
            { word: "å¤§", pinyin: "dÃ ", antonym: "å°", antonymPinyin: "xiÇo" },
            { word: "å¤š", pinyin: "duÅ", antonym: "å°‘", antonymPinyin: "shÇo" },
            { word: "é«˜", pinyin: "gÄo", antonym: "çŸ®", antonymPinyin: "Çi" },
            { word: "èƒ–", pinyin: "pÃ ng", antonym: "ç˜¦", antonymPinyin: "shÃ²u" },
            { word: "é•¿", pinyin: "chÃ¡ng", antonym: "çŸ­", antonymPinyin: "duÇn" },
            { word: "å®½", pinyin: "kuÄn", antonym: "çª„", antonymPinyin: "zhÇi" },
            { word: "åš", pinyin: "hÃ²u", antonym: "è–„", antonymPinyin: "bÃ¡o" },
            { word: "ç²—", pinyin: "cÅ«", antonym: "ç»†", antonymPinyin: "xÃ¬" },
            { word: "å¿«", pinyin: "kuÃ i", antonym: "æ…¢", antonymPinyin: "mÃ n" },
            { word: "è¿œ", pinyin: "yuÇn", antonym: "è¿‘", antonymPinyin: "jÃ¬n" },
            { word: "é»‘", pinyin: "hÄ“i", antonym: "ç™½", antonymPinyin: "bÃ¡i" },
            { word: "çº¢", pinyin: "hÃ³ng", antonym: "ç»¿", antonymPinyin: "lÇœ" },
            { word: "æ˜", pinyin: "mÃ­ng", antonym: "æš—", antonymPinyin: "Ã n" },
            { word: "äº®", pinyin: "liÃ ng", antonym: "æš—", antonymPinyin: "Ã n" },
            { word: "ç”œ", pinyin: "tiÃ¡n", antonym: "è‹¦", antonymPinyin: "kÇ”" },
            { word: "é…¸", pinyin: "suÄn", antonym: "ç”œ", antonymPinyin: "tiÃ¡n" },
            { word: "å’¸", pinyin: "xiÃ¡n", antonym: "æ·¡", antonymPinyin: "dÃ n" },
            { word: "å†·", pinyin: "lÄ›ng", antonym: "çƒ­", antonymPinyin: "rÃ¨" },
            { word: "æ¸©", pinyin: "wÄ“n", antonym: "å‡‰", antonymPinyin: "liÃ¡ng" },
            { word: "å¹²", pinyin: "gÄn", antonym: "æ¹¿", antonymPinyin: "shÄ«" },
            { word: "è½¯", pinyin: "ruÇn", antonym: "ç¡¬", antonymPinyin: "yÃ¬ng" },
            { word: "æ¾", pinyin: "sÅng", antonym: "ç´§", antonymPinyin: "jÇn" },
            { word: "æ–°", pinyin: "xÄ«n", antonym: "æ—§", antonymPinyin: "jiÃ¹" },
            { word: "å¥½", pinyin: "hÇo", antonym: "å", antonymPinyin: "huÃ i" },
            { word: "çœŸ", pinyin: "zhÄ“n", antonym: "å‡", antonymPinyin: "jiÇ" },
            { word: "ç¾", pinyin: "mÄ›i", antonym: "ä¸‘", antonymPinyin: "chÇ’u" },
            { word: "é¦™", pinyin: "xiÄng", antonym: "è‡­", antonymPinyin: "chÃ²u" },
            { word: "è½»", pinyin: "qÄ«ng", antonym: "é‡", antonymPinyin: "zhÃ²ng" },
            { word: "æ·±", pinyin: "shÄ“n", antonym: "æµ…", antonymPinyin: "qiÇn" },
            { word: "æµ“", pinyin: "nÃ³ng", antonym: "æ·¡", antonymPinyin: "dÃ n" },
            { word: "ç†Ÿ", pinyin: "shÃº", antonym: "ç”Ÿ", antonymPinyin: "shÄ“ng" },
            { word: "æ­£", pinyin: "zhÃ¨ng", antonym: "æ­ª", antonymPinyin: "wÄi" },
            { word: "ç›´", pinyin: "zhÃ­", antonym: "å¼¯", antonymPinyin: "wÄn" },
            { word: "æ»¡", pinyin: "mÇn", antonym: "ç©º", antonymPinyin: "kÅng" },
            { word: "å°–", pinyin: "jiÄn", antonym: "é’", antonymPinyin: "dÃ¹n" },
            { word: "å…‰æ»‘", pinyin: "guÄng huÃ¡", antonym: "ç²—ç³™", antonymPinyin: "cÅ« cÄo" },
            { word: "æ•´é½", pinyin: "zhÄ›ng qÃ­", antonym: "å‡Œä¹±", antonymPinyin: "lÃ­ng luÃ n" },
            { word: "å¹²å‡€", pinyin: "gÄn jÃ¬ng", antonym: "è‚®è„", antonymPinyin: "Äng zÄng" },
            { word: "å®‰é™", pinyin: "Än jÃ¬ng", antonym: "çƒ­é—¹", antonymPinyin: "rÃ¨ nÃ o" },
            { word: "å‹¤åŠ³", pinyin: "qÃ­n lÃ¡o", antonym: "æ‡’æƒ°", antonymPinyin: "lÇn duÃ²" },
            { word: "èªæ˜", pinyin: "cÅng mÃ­ng", antonym: "æ„šè ¢", antonymPinyin: "yÃº chÇ”n" },
            { word: "å‹‡æ•¢", pinyin: "yÇ’ng gÇn", antonym: "èƒ†å°", antonymPinyin: "dÇn xiÇo" },
            { word: "è¯šå®", pinyin: "chÃ©ng shÃ­", antonym: "è™šä¼ª", antonymPinyin: "xÅ« wÄ›i" },
            { word: "çƒ­æƒ…", pinyin: "rÃ¨ qÃ­ng", antonym: "å†·æ¼ ", antonymPinyin: "lÄ›ng mÃ²" },
            { word: "å–„è‰¯", pinyin: "shÃ n liÃ¡ng", antonym: "å‡¶æ¶", antonymPinyin: "xiÅng Ã¨" },
            { word: "è°¦è™š", pinyin: "qiÄn xÅ«", antonym: "éª„å‚²", antonymPinyin: "jiÄo Ã o" },
            { word: "æ´»æ³¼", pinyin: "huÃ³ pÅ", antonym: "å‘†æ¿", antonymPinyin: "dÄi bÇn" },
            { word: "æœºçµ", pinyin: "jÄ« lÃ­ng", antonym: "ç¬¨æ‹™", antonymPinyin: "bÃ¨n zhuÅ" },
            { word: "æ¸©æŸ”", pinyin: "wÄ“n rÃ³u", antonym: "ç²—æš´", antonymPinyin: "cÅ« bÃ o" },
            
            // åŠ¨è¯ç±»
            { word: "å¼€", pinyin: "kÄi", antonym: "å…³", antonymPinyin: "guÄn" },
            { word: "è¿›", pinyin: "jÃ¬n", antonym: "å‡º", antonymPinyin: "chÅ«" },
            { word: "æ¥", pinyin: "lÃ¡i", antonym: "å»", antonymPinyin: "qÃ¹" },
            { word: "ä¸Š", pinyin: "shÃ ng", antonym: "ä¸‹", antonymPinyin: "xiÃ " },
            { word: "å‡", pinyin: "shÄ“ng", antonym: "é™", antonymPinyin: "jiÃ ng" },
            { word: "èµ·", pinyin: "qÇ", antonym: "è½", antonymPinyin: "luÃ²" },
            { word: "æ¨", pinyin: "tuÄ«", antonym: "æ‹‰", antonymPinyin: "lÄ" },
            { word: "æ¶¨", pinyin: "zhÇng", antonym: "è½", antonymPinyin: "luÃ²" },
            { word: "å¾—", pinyin: "dÃ©", antonym: "å¤±", antonymPinyin: "shÄ«" },
            { word: "ä¹°", pinyin: "mÇi", antonym: "å–", antonymPinyin: "mÃ i" },
            { word: "çˆ±", pinyin: "Ã i", antonym: "æ¨", antonymPinyin: "hÃ¨n" },
            { word: "å“­", pinyin: "kÅ«", antonym: "ç¬‘", antonymPinyin: "xiÃ o" },
            { word: "é†’", pinyin: "xÇng", antonym: "ç¡", antonymPinyin: "shuÃ¬" },
            { word: "è¿", pinyin: "yÃ­ng", antonym: "é€", antonymPinyin: "sÃ²ng" },
            { word: "é—®", pinyin: "wÃ¨n", antonym: "ç­”", antonymPinyin: "dÃ¡" },
            { word: "åˆ†", pinyin: "fÄ“n", antonym: "åˆ", antonymPinyin: "hÃ©" },
            { word: "æ­»", pinyin: "sÇ", antonym: "æ´»", antonymPinyin: "huÃ³" },
            { word: "å­˜", pinyin: "cÃºn", antonym: "äº¡", antonymPinyin: "wÃ¡ng" },
            { word: "æ”¶", pinyin: "shÅu", antonym: "æ”¾", antonymPinyin: "fÃ ng" },
            { word: "ä¼¸", pinyin: "shÄ“n", antonym: "ç¼©", antonymPinyin: "suÅ" },
            { word: "ä¸¾", pinyin: "jÇ”", antonym: "æ”¾", antonymPinyin: "fÃ ng" },
            { word: "åŠ ", pinyin: "jiÄ", antonym: "å‡", antonymPinyin: "jiÇn" },
            { word: "èƒœ", pinyin: "shÃ¨ng", antonym: "è´¥", antonymPinyin: "bÃ i" },
            { word: "è¾“", pinyin: "shÅ«", antonym: "èµ¢", antonymPinyin: "yÃ­ng" },
            { word: "æœ‰", pinyin: "yÇ’u", antonym: "æ— ", antonymPinyin: "wÃº" },
            { word: "åŠ¨", pinyin: "dÃ²ng", antonym: "é™", antonymPinyin: "jÃ¬ng" },
            { word: "æ”»", pinyin: "gÅng", antonym: "å®ˆ", antonymPinyin: "shÇ’u" },
            { word: "ä¼ ", pinyin: "chuÃ¡n", antonym: "æ¥", antonymPinyin: "jiÄ“" },
            { word: "æ¶¨", pinyin: "zhÇng", antonym: "è·Œ", antonymPinyin: "diÄ“" },
            { word: "å¢", pinyin: "zÄ“ng", antonym: "å‡", antonymPinyin: "jiÇn" },
            { word: "ç”Ÿ", pinyin: "shÄ“ng", antonym: "ç­", antonymPinyin: "miÃ¨" },
            { word: "å§‹", pinyin: "shÇ", antonym: "ç»ˆ", antonymPinyin: "zhÅng" },
            { word: "æ­¢", pinyin: "zhÇ", antonym: "è¡Œ", antonymPinyin: "xÃ­ng" },
            { word: "è¿½", pinyin: "zhuÄ«", antonym: "é€ƒ", antonymPinyin: "tÃ¡o" },
            { word: "è½", pinyin: "luÃ²", antonym: "å‡", antonymPinyin: "shÄ“ng" },
            { word: "å€Ÿ", pinyin: "jiÃ¨", antonym: "è¿˜", antonymPinyin: "huÃ¡n" },
            { word: "å–", pinyin: "qÇ”", antonym: "èˆ", antonymPinyin: "shÄ›" },
            { word: "å", pinyin: "tÅ«n", antonym: "å", antonymPinyin: "tÇ”" },
            { word: "å¸", pinyin: "xÄ«", antonym: "å‘¼", antonymPinyin: "hÅ«" },
            
            // æ–¹ä½è¯ç±»
            { word: "å‰", pinyin: "qiÃ¡n", antonym: "å", antonymPinyin: "hÃ²u" },
            { word: "å·¦", pinyin: "zuÇ’", antonym: "å³", antonymPinyin: "yÃ²u" },
            { word: "é‡Œ", pinyin: "lÇ", antonym: "å¤–", antonymPinyin: "wÃ i" },
            { word: "ä¸œ", pinyin: "dÅng", antonym: "è¥¿", antonymPinyin: "xÄ«" },
            { word: "å—", pinyin: "nÃ¡n", antonym: "åŒ—", antonymPinyin: "bÄ›i" },
            { word: "å†…", pinyin: "nÃ¨i", antonym: "å¤–", antonymPinyin: "wÃ i" },
            { word: "è¿œ", pinyin: "yuÇn", antonym: "è¿‘", antonymPinyin: "jÃ¬n" },
            { word: "é«˜", pinyin: "gÄo", antonym: "ä½", antonymPinyin: "dÄ«" },
            { word: "æ¨ª", pinyin: "hÃ©ng", antonym: "ç«–", antonymPinyin: "shÃ¹" },
            { word: "æ–œ", pinyin: "xiÃ©", antonym: "æ­£", antonymPinyin: "zhÃ¨ng" },
            { word: "å¤©", pinyin: "tiÄn", antonym: "åœ°", antonymPinyin: "dÃ¬" },
            { word: "æ˜¼", pinyin: "zhÃ²u", antonym: "å¤œ", antonymPinyin: "yÃ¨" },
            { word: "æ˜¥", pinyin: "chÅ«n", antonym: "ç§‹", antonymPinyin: "qiÅ«" },
            { word: "å¤", pinyin: "xiÃ ", antonym: "å†¬", antonymPinyin: "dÅng" },
            { word: "æ—©", pinyin: "zÇo", antonym: "æ™š", antonymPinyin: "wÇn" },
            { word: "æ™¨", pinyin: "chÃ©n", antonym: "æ˜", antonymPinyin: "hÅ«n" },
            { word: "å¤", pinyin: "gÇ”", antonym: "ä»Š", antonymPinyin: "jÄ«n" },
            { word: "æœ", pinyin: "zhÄo", antonym: "æš®", antonymPinyin: "mÃ¹" },
            { word: "é¦–", pinyin: "shÇ’u", antonym: "å°¾", antonymPinyin: "wÄ›i" },
            
            // å…¶ä»–ç±»åˆ«
            { word: "æ˜¯", pinyin: "shÃ¬", antonym: "å¦", antonymPinyin: "fÇ’u" },
            { word: "å¯¹", pinyin: "duÃ¬", antonym: "é”™", antonymPinyin: "cuÃ²" },
            { word: "è¯¥", pinyin: "gÄi", antonym: "ä¸è¯¥", antonymPinyin: "bÃ¹ gÄi" },
            { word: "èƒ½", pinyin: "nÃ©ng", antonym: "ä¸èƒ½", antonymPinyin: "bÃ¹ nÃ©ng" },
            { word: "ä¼š", pinyin: "huÃ¬", antonym: "ä¸ä¼š", antonymPinyin: "bÃ¹ huÃ¬" },
            { word: "å¯ä»¥", pinyin: "kÄ› yÇ", antonym: "ä¸å¯ä»¥", antonymPinyin: "bÃ¹ kÄ› yÇ" },
            { word: "åº”è¯¥", pinyin: "yÄ«ng gÄi", antonym: "ä¸åº”è¯¥", antonymPinyin: "bÃ¹ yÄ«ng gÄi" },
            { word: "å¿…é¡»", pinyin: "bÃ¬ xÅ«", antonym: "ä¸å¿…", antonymPinyin: "bÃ¹ bÃ¬" },
            { word: "ä¹Ÿè®¸", pinyin: "yÄ› xÇ”", antonym: "ä¸€å®š", antonymPinyin: "yÄ« dÃ¬ng" },
            { word: "å¯èƒ½", pinyin: "kÄ› nÃ©ng", antonym: "ä¸å¯èƒ½", antonymPinyin: "bÃ¹ kÄ› nÃ©ng" },
            { word: "ç»å¸¸", pinyin: "jÄ«ng chÃ¡ng", antonym: "å¶å°”", antonymPinyin: "Ç’u Ä›r" },
            { word: "æœ‰æ—¶", pinyin: "yÇ’u shÃ­", antonym: "æ°¸è¿œ", antonymPinyin: "yÇ’ng yuÇn" },
            { word: "è®¸å¤š", pinyin: "xÇ” duÅ", antonym: "å¾ˆå°‘", antonymPinyin: "hÄ›n shÇo" },
            { word: "å…¨éƒ¨", pinyin: "quÃ¡n bÃ¹", antonym: "éƒ¨åˆ†", antonymPinyin: "bÃ¹ fÃ¨n" },
            { word: "ä¸€èµ·", pinyin: "yÄ« qÇ", antonym: "åˆ†å¼€", antonymPinyin: "fÄ“n kÄi" },
            { word: "å®¹æ˜“", pinyin: "rÃ³ng yÃ¬", antonym: "å›°éš¾", antonymPinyin: "kÃ¹n nÃ¡n" },
            { word: "ç®€å•", pinyin: "jiÇn dÄn", antonym: "å¤æ‚", antonymPinyin: "fÃ¹ zÃ¡" },
            { word: "é«˜å…´", pinyin: "gÄo xÃ¬ng", antonym: "éš¾è¿‡", antonymPinyin: "nÃ¡n guÃ²" },
            { word: "å®‰å…¨", pinyin: "Än quÃ¡n", antonym: "å±é™©", antonymPinyin: "wÄ“i xiÇn" },
            { word: "æˆåŠŸ", pinyin: "chÃ©ng gÅng", antonym: "å¤±è´¥", antonymPinyin: "shÄ« bÃ i" },
            { word: "åŒæ„", pinyin: "tÃ³ng yÃ¬", antonym: "åå¯¹", antonymPinyin: "fÇn duÃ¬" },
            { word: "ç†Ÿæ‚‰", pinyin: "shÃº xÄ«", antonym: "é™Œç”Ÿ", antonymPinyin: "mÃ² shÄ“ng" },
            { word: "æ˜ç™½", pinyin: "mÃ­ng bai", antonym: "ç³Šæ¶‚", antonymPinyin: "hÃº tu" },
            { word: "æ¸…æ¥š", pinyin: "qÄ«ng chu", antonym: "æ¨¡ç³Š", antonymPinyin: "mÃ³ hu" },
            { word: "ç´§å¼ ", pinyin: "jÇn zhÄng", antonym: "è½»æ¾", antonymPinyin: "qÄ«ng sÅng" },
            { word: "å¿™ç¢Œ", pinyin: "mÃ¡ng lÃ¹", antonym: "æ‚ é—²", antonymPinyin: "yÅu xiÃ¡n" },
            { word: "ç¬”ç›´", pinyin: "bÇ zhÃ­", antonym: "å¼¯æ›²", antonymPinyin: "wÄn qÅ«" },
            { word: "å‡¸èµ·", pinyin: "tÅ« qÇ", antonym: "å‡¹é™·", antonymPinyin: "Äo xiÃ n" },
            { word: "æ–°é²œ", pinyin: "xÄ«n xiÄn", antonym: "é™ˆæ—§", antonymPinyin: "chÃ©n jiÃ¹" },
            { word: "å¹³å¦", pinyin: "pÃ­ng tÇn", antonym: "å´å²–", antonymPinyin: "qÃ­ qÅ«" },
            { word: "èšåˆ", pinyin: "jÃ¹ hÃ©", antonym: "åˆ†æ•£", antonymPinyin: "fÄ“n sÃ n" },
            { word: "åšå®š", pinyin: "jiÄn dÃ¬ng", antonym: "åŠ¨æ‘‡", antonymPinyin: "dÃ²ng yÃ¡o" },
            { word: "å›¢ç»“", pinyin: "tuÃ¡n jiÃ©", antonym: "åˆ†è£‚", antonymPinyin: "fÄ“n liÃ¨" },
            { word: "ä¸°å¯Œ", pinyin: "fÄ“ng fÃ¹", antonym: "è´«ä¹", antonymPinyin: "pÃ­n fÃ¡" },
            { word: "åå·", pinyin: "kÇn kÄ›", antonym: "å¹³å¦", antonymPinyin: "pÃ­ng tÇn" },
            { word: "æ›²æŠ˜", pinyin: "qÅ« zhÃ©", antonym: "å¹³å¦", antonymPinyin: "pÃ­ng tÇn" },
            { word: "å’Œå¹³", pinyin: "hÃ© pÃ­ng", antonym: "æˆ˜äº‰", antonymPinyin: "zhÃ n zhÄ“ng" },
            { word: "å¯Œè£•", pinyin: "fÃ¹ yÃ¹", antonym: "è´«ç©·", antonymPinyin: "pÃ­n qiÃ³ng" },
            { word: "å¼ºå¤§", pinyin: "qiÃ¡ng dÃ ", antonym: "å¼±å°", antonymPinyin: "ruÃ² xiÇo" },
            { word: "å¤æ‚", pinyin: "fÃ¹ zÃ¡", antonym: "å•ä¸€", antonymPinyin: "dÄn yÄ«" },
            { word: "ç³Šæ¶‚", pinyin: "hÃº tu", antonym: "æ¸…é†’", antonymPinyin: "qÄ«ng xÇng" },
            { word: "å®Œæ•´", pinyin: "wÃ¡n zhÄ›ng", antonym: "æ®‹ç¼º", antonymPinyin: "cÃ¡n quÄ“" },
            { word: "æ­£å¸¸", pinyin: "zhÃ¨ng chÃ¡ng", antonym: "å¼‚å¸¸", antonymPinyin: "yÃ¬ chÃ¡ng" },
            { word: "æ™®é€š", pinyin: "pÇ” tÅng", antonym: "ç‰¹æ®Š", antonymPinyin: "tÃ¨ shÅ«" },
            { word: "æ‡µæ‡‚", pinyin: "mÄ›ng dÇ’ng", antonym: "æ˜ç™½", antonymPinyin: "mÃ­ng bai" },
            { word: "æµ‘æµŠ", pinyin: "hÃºn zhuÃ³", antonym: "æ¸…æ¾ˆ", antonymPinyin: "qÄ«ng chÃ¨" },
            { word: "ç¹è£", pinyin: "fÃ¡n rÃ³ng", antonym: "è¡°è´¥", antonymPinyin: "shuÄi bÃ i" },
            { word: "å…´æ—º", pinyin: "xÄ«ng wÃ ng", antonym: "è§æ¡", antonymPinyin: "xiÄo tiÃ¡o" },
            { word: "å®½é˜”", pinyin: "kuÄn kuÃ²", antonym: "ç‹­çª„", antonymPinyin: "xiÃ¡ zhÇi" },
            { word: "é”‹åˆ©", pinyin: "fÄ“ng lÃ¬", antonym: "æ»é’", antonymPinyin: "zhÃ¬ dÃ¹n" },
            { word: "å®½æ•", pinyin: "kuÄn chÇng", antonym: "ç‹­å°", antonymPinyin: "xiÃ¡ xiÇo" },
            { word: "èˆ’å±•", pinyin: "shÅ« zhÇn", antonym: "èœ·ç¼©", antonymPinyin: "quÃ¡n suÅ" },
            { word: "æ•æ·", pinyin: "mÇn jiÃ©", antonym: "è¿Ÿç¼“", antonymPinyin: "chÃ­ huÇn" },
            { word: "æ¸…æ™°", pinyin: "qÄ«ng xÄ«", antonym: "æœ¦èƒ§", antonymPinyin: "mÃ©ng lÃ³ng" },
            { word: "é™¡å³­", pinyin: "dÇ’u qiÃ o", antonym: "å¹³ç¼“", antonymPinyin: "pÃ­ng huÇn" },
            { word: "ç¼“å’Œ", pinyin: "huÇn hÃ©", antonym: "æ¿€çƒˆ", antonymPinyin: "jÄ« liÃ¨" },
            { word: "å˜ˆæ‚", pinyin: "cÃ¡o zÃ¡", antonym: "å¯‚é™", antonymPinyin: "jÃ¬ jÃ¬ng" },
            { word: "æ¾å¼›", pinyin: "sÅng chÃ­", antonym: "ç´§å¼ ", antonymPinyin: "jÇn zhÄng" },
            { word: "å¾®å¼±", pinyin: "wÄ“i ruÃ²", antonym: "å¼ºçƒˆ", antonymPinyin: "qiÃ¡ng liÃ¨" },
            { word: "è“¬å‹ƒ", pinyin: "pÃ©ng bÃ³", antonym: "è¡°è´¥", antonymPinyin: "shuÄi bÃ i" },
            { word: "æ—ºç››", pinyin: "wÃ ng shÃ¨ng", antonym: "æ¯è", antonymPinyin: "kÅ« wÄ›i" },
            { word: "é•‡é™", pinyin: "zhÃ¨n jÃ¬ng", antonym: "æ…Œå¼ ", antonymPinyin: "huÄng zhÄng" },
            { word: "æ²‰ç€", pinyin: "chÃ©n zhuÃ³", antonym: "æ…Œå¼ ", antonymPinyin: "huÄng zhÄng" },
            { word: "ç¼“æ…¢", pinyin: "huÇn mÃ n", antonym: "å¿«é€Ÿ", antonymPinyin: "kuÃ i sÃ¹" },
            { word: "æ°¸ä¹…", pinyin: "yÇ’ng jiÇ”", antonym: "æš‚æ—¶", antonymPinyin: "zÃ n shÃ­" },
            { word: "è¾½é˜”", pinyin: "liÃ¡o kuÃ²", antonym: "ç‹­çª„", antonymPinyin: "xiÃ¡ zhÇi" },
            { word: "å·¨å¤§", pinyin: "jÃ¹ dÃ ", antonym: "æ¸ºå°", antonymPinyin: "miÇo xiÇo" },
            { word: "å…‰æ˜", pinyin: "guÄng mÃ­ng", antonym: "é»‘æš—", antonymPinyin: "hÄ“i Ã n" },
            { word: "æ¸©æš–", pinyin: "wÄ“n nuÇn", antonym: "å¯’å†·", antonymPinyin: "hÃ¡n lÄ›ng" },
            { word: "æ‹®æ®", pinyin: "jiÃ© jÅ«", antonym: "å¯Œè£•", antonymPinyin: "fÃ¹ yÃ¹" },
            { word: "æ„šç¬¨", pinyin: "yÃº bÃ¨n", antonym: "èªæ˜", antonymPinyin: "cÅng mÃ­ng" },
            { word: "ç¬¨æ‹™", pinyin: "bÃ¨n zhuÅ", antonym: "ä¼¶ä¿", antonymPinyin: "lÃ­ng lÃ¬" },
            { word: "ç‹ æ¯’", pinyin: "hÄ›n dÃº", antonym: "å–„è‰¯", antonymPinyin: "shÃ n liÃ¡ng" },
            { word: "é€¼ä»„", pinyin: "bÄ« zÃ¨", antonym: "å®½é˜”", antonymPinyin: "kuÄn kuÃ²" },
            { word: "åå•¬", pinyin: "lÃ¬n sÃ¨", antonym: "æ…·æ…¨", antonymPinyin: "kÄng kÇi" },
            { word: "æ½®æ¹¿", pinyin: "chÃ¡o shÄ«", antonym: "å¹²ç‡¥", antonymPinyin: "gÄn zÃ o" },
            { word: "çŸ­æš‚", pinyin: "duÇn zÃ n", antonym: "æ°¸ä¹…", antonymPinyin: "yÇ’ng jiÇ”" },
            { word: "æ¼†é»‘", pinyin: "qÄ« hÄ“i", antonym: "æ˜äº®", antonymPinyin: "mÃ­ng liÃ ng" },
            { word: "å–§é—¹", pinyin: "xuÄn nÃ o", antonym: "å¯‚é™", antonymPinyin: "jÃ¬ jÃ¬ng" },
            { word: "æŸ”è½¯", pinyin: "rÃ³u ruÇn", antonym: "åšç¡¬", antonymPinyin: "jiÄn yÃ¬ng" },
            { word: "æ¸…æ¾ˆ", pinyin: "qÄ«ng chÃ¨", antonym: "æµ‘æµŠ", antonymPinyin: "hÃºn zhuÃ³" },
            { word: "èœ¿èœ’", pinyin: "wÄn yÃ¡n", antonym: "ç¬”ç›´", antonymPinyin: "bÇ zhÃ­" },
            { word: "ç”Ÿç–", pinyin: "shÄ“ng shÅ«", antonym: "ç†Ÿæ‚‰", antonymPinyin: "shÃº xÄ«" },
            { word: "è½»ç›ˆ", pinyin: "qÄ«ng yÃ­ng", antonym: "ç¬¨é‡", antonymPinyin: "bÃ¨n zhÃ²ng" },
            { word: "è…çƒ‚", pinyin: "fÇ” lÃ n", antonym: "æ–°é²œ", antonymPinyin: "xÄ«n xiÄn" },
            { word: "ç¹é‡", pinyin: "fÃ¡n zhÃ²ng", antonym: "è½»æ¾", antonymPinyin: "qÄ«ng sÅng" },
            { word: "æ‚²ä¼¤", pinyin: "bÄ“i shÄng", antonym: "æ„‰å¿«", antonymPinyin: "yÃº kuÃ i" },
            { word: "ç‚çƒ­", pinyin: "yÃ¡n rÃ¨", antonym: "å¯’å†·", antonymPinyin: "hÃ¡n lÄ›ng" },
            { word: "çŠ¹è±«", pinyin: "yÃ³u yÃ¹", antonym: "æœæ–­", antonymPinyin: "guÇ’ duÃ n" },
            { word: "è½¯å¼±", pinyin: "ruÇn ruÃ²", antonym: "åšå¼º", antonymPinyin: "jiÄn qiÃ¡ng" }
        ];
        

        
        // åˆå§‹åŒ–å¸ƒå±€æŒ‰é’®çŠ¶æ€
        function initLayoutButton() {
            const layoutIcon = document.getElementById('layout-icon');
            const layoutText = document.getElementById('layout-text');
            
            // é»˜è®¤ä½¿ç”¨æ¡Œé¢ç‰ˆå¸ƒå±€ï¼Œç”¨æˆ·å¯æ‰‹åŠ¨åˆ‡æ¢
            isCurrentlyMobile = false;
            layoutIcon.className = 'fa fa-mobile text-gray-600';
            layoutText.textContent = 'æ‰‹æœºç‰ˆ';
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initLayoutButton);
        

        
        // æ¸¸æˆçŠ¶æ€å˜é‡
        let currentWord = null;
        let currentAntonym = null;
        let score1 = 0;
        let score2 = 0;
        let round = 1;
        let gameActive = false;
        let timerInterval = null;
        let countdown = 10;
        let usedIndices = [];
        let isRotationLocked = false;
        let isTimerEnabled = true; // å€’è®¡æ—¶å¼€å…³çŠ¶æ€
        
        // å¸ƒå±€çŠ¶æ€å˜é‡
        let layoutMode = 'auto'; // 'auto', 'desktop', 'mobile'
        let isCurrentlyMobile = false; // å½“å‰å®é™…ä½¿ç”¨çš„å¸ƒå±€
        
        // DOMå…ƒç´ 
        const startScreen = document.getElementById('start-screen');
        const gameScreen = document.getElementById('game-screen');
        const resultScreen = document.getElementById('result-screen');
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');
        const lockRotationBtn = document.getElementById('lock-rotation-btn');
        const lockIcon = document.getElementById('lock-icon');
        const lockText = document.getElementById('lock-text');
        const targetWordEl = document.getElementById('target-word');
        const targetWord2El = document.getElementById('target-word-2');
        const optionsPlayer1 = document.getElementById('options-player1');
        const optionsPlayer2 = document.getElementById('options-player2');
        const score1El = document.getElementById('score1');
        const score2El = document.getElementById('score2');
        const roundCounter = document.getElementById('round-counter');
        const countdownEl = document.getElementById('countdown');
        const countdownPlayer1El = document.getElementById('countdown-player1');
        const countdownPlayer2El = document.getElementById('countdown-player2');
        const finalScore1El = document.getElementById('final-score1');
        const finalScore2El = document.getElementById('final-score2');
        const winnerMessageEl = document.getElementById('winner-message');
        
        // äº‹ä»¶ç›‘å¬
        startBtn.addEventListener('click', startGame);
        restartBtn.addEventListener('click', restartGame);
        lockRotationBtn.addEventListener('click', toggleRotationLock);
        
        // å¸ƒå±€åˆ‡æ¢æŒ‰é’®äº‹ä»¶ç›‘å¬
        document.getElementById('layout-toggle-btn').addEventListener('click', toggleLayout);
        
        // å€’è®¡æ—¶å¼€å…³äº‹ä»¶ç›‘å¬
        document.getElementById('timer-toggle').addEventListener('change', function() {
            isTimerEnabled = this.checked;
            const description = document.getElementById('timer-description');
            description.textContent = isTimerEnabled ? 'æ¯é¢˜10ç§’é™æ—¶' : 'ä¸é™æ—¶æ¨¡å¼';
        });
        
        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥æç¤ºæ¡†å…ƒç´ æ˜¯å¦å­˜åœ¨
        window.addEventListener('DOMContentLoaded', () => {
            console.log('é¡µé¢åŠ è½½å®Œæˆï¼Œæ£€æŸ¥æç¤ºæ¡†å…ƒç´ ...');
            
            // å°è¯•å¤šç§æ–¹æ³•æŸ¥æ‰¾å…ƒç´ 
            const notification1 = document.getElementById('notification-player1');
            const notification2 = document.getElementById('notification-player2');
            const text1 = document.getElementById('notification-text-player1');
            const text2 = document.getElementById('notification-text-player2');
            const subtext1 = document.getElementById('notification-subtext-player1');
            const subtext2 = document.getElementById('notification-subtext-player2');
            
            console.log('notification-player1:', notification1);
            console.log('notification-player2:', notification2);
            console.log('notification-text-player1:', text1);
            console.log('notification-text-player2:', text2);
            console.log('notification-subtext-player1:', subtext1);
            console.log('notification-subtext-player2:', subtext2);
            
            // å°è¯•é€šè¿‡querySelectoræŸ¥æ‰¾
            console.log('é€šè¿‡querySelectoræŸ¥æ‰¾:');
            console.log('querySelector notification-player1:', document.querySelector('#notification-player1'));
            console.log('querySelector notification-player2:', document.querySelector('#notification-player2'));
            
            // æ£€æŸ¥æ‰€æœ‰divå…ƒç´ 
            console.log('æ‰€æœ‰divå…ƒç´ æ•°é‡:', document.querySelectorAll('div').length);
            
            // æ£€æŸ¥æ‰€æœ‰å¸¦æœ‰idçš„å…ƒç´ 
            const allElementsWithId = document.querySelectorAll('[id]');
            console.log('æ‰€æœ‰å¸¦æœ‰idçš„å…ƒç´ :');
            allElementsWithId.forEach(el => {
                console.log('ID:', el.id, 'Tag:', el.tagName);
            });
        });
        
        // å¼€å§‹æ¸¸æˆ
        function startGame() {
            startScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            score1 = 0;
            score2 = 0;
            round = 1;
            usedIndices = [];
            updateScores();
            
            // æ ¹æ®å½“å‰å¸ƒå±€æ¨¡å¼åº”ç”¨ç›¸åº”çš„æ ·å¼
            if (isCurrentlyMobile) {
                setTimeout(() => {
                    setupMobileLayout();
                    console.log('æ‰‹æœºç«¯å¸ƒå±€å·²åº”ç”¨');
                }, 100); // å»¶è¿Ÿä¸€ç‚¹ç¡®ä¿DOMå·²æ¸²æŸ“
            } else {
                // ç¡®ä¿æ¡Œé¢ç‰ˆå¸ƒå±€ä¹Ÿè¢«æ­£ç¡®åº”ç”¨
                setupDesktopLayout();
                console.log('æ¡Œé¢ç«¯å¸ƒå±€å·²åº”ç”¨');
            }
            
            nextRound();
        }
        
        // é‡æ–°å¼€å§‹æ¸¸æˆ
        function restartGame() {
            resultScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            score1 = 0;
            score2 = 0;
            round = 1;
            usedIndices = [];
            updateScores();
            nextRound();
        }
        
        // ä¸‹ä¸€è½®
        function nextRound() {
            if (round > 10) {
                endGame();
                return;
            }
            
            gameActive = true;
            roundCounter.textContent = `ç¬¬${round}è½®`;
            
            // é€‰æ‹©ä¸€ä¸ªæœªä½¿ç”¨è¿‡çš„åä¹‰è¯å¯¹
            let randomIndex;
            do {
                randomIndex = Math.floor(Math.random() * antonymsList.length);
            } while (usedIndices.includes(randomIndex));
            
            usedIndices.push(randomIndex);
            const pair = antonymsList[randomIndex];
            currentWord = pair.word;
            currentAntonym = pair.antonym;
            
            // æ˜¾ç¤ºç›®æ ‡å­—ï¼ˆä¸¤ä¸ªå¡ç‰‡ï¼‰
            targetWordEl.textContent = currentWord;
            targetWord2El.textContent = currentWord;
            
            // æ˜¾ç¤ºæ‹¼éŸ³
            const targetPinyinEl = document.getElementById('target-pinyin');
            const targetPinyin2El = document.getElementById('target-pinyin-2');
            const currentPinyin = pair.pinyin || '';
            targetPinyinEl.textContent = currentPinyin;
            targetPinyin2El.textContent = currentPinyin;
            
            targetWordEl.classList.remove('correct-animation');
            targetWord2El.classList.remove('correct-animation');
            void targetWordEl.offsetWidth; // é‡ç½®åŠ¨ç”»
            void targetWord2El.offsetWidth; // é‡ç½®åŠ¨ç”»
            targetWordEl.classList.add('correct-animation');
            targetWord2El.classList.add('correct-animation');
            
            // ç”Ÿæˆé€‰é¡¹
            generateOptions();
            
            // å¼€å§‹å€’è®¡æ—¶
            startCountdown();
        }
        
        // ç”Ÿæˆé€‰é¡¹
        function generateOptions() {

            
            // æ¸…ç©ºä¹‹å‰çš„é€‰é¡¹
            optionsPlayer1.innerHTML = '';
            optionsPlayer2.innerHTML = '';
            
            // æ ¹æ®å½“å‰å¸ƒå±€æ¨¡å¼è®¾ç½®å®¹å™¨æ ·å¼
            if (isCurrentlyMobile) {
                // æ‰‹æœºç«¯å®¹å™¨æ ·å¼ - é˜²æ­¢è¶…å‡ºå±å¹•
                const containerStyle = `
                    display: grid !important;
                    grid-template-columns: 1fr 1fr !important;
                    grid-template-rows: 1fr 1fr !important;
                    gap: 4px !important;
                    width: 100% !important;
                    max-width: min(280px, calc(100vw - 2rem)) !important;
                    height: 120px !important;
                    background: rgba(255,255,255,0.9) !important;
                    border-radius: 8px !important;
                    border: none !important;
                    padding: 6px !important;
                    margin: 0.5rem auto !important;
                    box-sizing: border-box !important;
                    overflow: hidden !important;
                `;
                optionsPlayer1.style.cssText = containerStyle;
                optionsPlayer2.style.cssText = containerStyle;
                console.log('æ‰‹æœºç‰ˆå¸ƒå±€ï¼Œå±å¹•å®½åº¦:', window.innerWidth);
                setupMobileLayout();
            } else {
                // æ¡Œé¢ç«¯å®¹å™¨æ ·å¼ - ä½¿ç”¨ç½‘æ ¼å¸ƒå±€ç¡®ä¿2x2æ’åˆ—
                const desktopContainerStyle = `
                    display: grid !important;
                    grid-template-columns: 1fr 1fr !important;
                    grid-template-rows: 1fr 1fr !important;
                    gap: 8px !important;
                    width: 300px !important;
                    height: 200px !important;
                    background: #f0f0f0 !important;
                    border: 2px solid #ccc !important;
                    padding: 10px !important;
                    margin: 10px auto !important;
                    box-sizing: border-box !important;
                `;
                optionsPlayer1.style.cssText = desktopContainerStyle;
                optionsPlayer2.style.cssText = desktopContainerStyle;
                console.log('æ¡Œé¢ç‰ˆå¸ƒå±€ï¼Œå±å¹•å®½åº¦:', window.innerWidth);
                // æ¡Œé¢ç«¯ï¼šç¡®ä¿ç¬¬äºŒä¸ªç›®æ ‡å­—å¡ç‰‡æ˜¾ç¤º
                const secondCard = document.getElementById('second-target-card');
                if (secondCard) {
                    secondCard.classList.remove('hidden');
                    console.log('æ¡Œé¢ç«¯ï¼šç¬¬äºŒä¸ªç›®æ ‡å­—å¡ç‰‡å·²æ˜¾ç¤º');
                }
            }
            
            // è·å–å½“å‰ç›®æ ‡å­—çš„å­—æ•°
            const targetWordLength = currentWord.length;
            
            // æ”¶é›†å…¶ä»–å¯èƒ½çš„å¹²æ‰°é¡¹ï¼ˆå­—æ•°è¦è·Ÿç›®æ ‡å­—ä¸€æ ·ï¼‰
            const distractors = [];
            const sameLengthWords = antonymsList.filter(item => 
                item.word.length === targetWordLength && 
                item.word !== currentAntonym && 
                item.antonym !== currentAntonym
            );
            
            // å¦‚æœåŒå­—æ•°çš„è¯ä¸å¤Ÿï¼Œä»æ‰€æœ‰è¯ä¸­éšæœºé€‰æ‹©
            const availableWords = sameLengthWords.length >= 3 ? sameLengthWords : antonymsList;
            
            while (distractors.length < 3) {
                const randomItem = availableWords[Math.floor(Math.random() * availableWords.length)];
                const randomWord = randomItem.word;
                if (randomWord !== currentAntonym && !distractors.includes(randomWord)) {
                    distractors.push(randomWord);
                }
            }
            
            // é€‰é¡¹åˆ—è¡¨ï¼šæ­£ç¡®ç­”æ¡ˆ + 3ä¸ªå¹²æ‰°é¡¹
            const allOptions = [currentAntonym, ...distractors];
            
            // æ‰“ä¹±é¡ºåº
            const shuffledOptions = shuffleArray([...allOptions]);
            
            // ä¸ºä¸¤ä¸ªç©å®¶ç”Ÿæˆç›¸åŒçš„é€‰é¡¹ï¼ˆé¡ºåºå¯èƒ½ä¸åŒï¼‰
            const player1Options = shuffleArray([...allOptions]);
            const player2Options = shuffleArray([...allOptions]);
            
            console.log('ç”Ÿæˆé€‰é¡¹:', { 
                targetWord: currentWord, 
                targetWordLength, 
                player1Options, 
                player2Options, 
                currentAntonym 
            });
            
            // åˆ›å»ºç©å®¶1çš„é€‰é¡¹æŒ‰é’®
            player1Options.forEach(option => {
                // æŸ¥æ‰¾æ‹¼éŸ³ä¿¡æ¯
                const wordData = antonymsList.find(item => item.word === option || item.antonym === option);
                const pinyin = wordData ? (wordData.word === option ? wordData.pinyin : wordData.antonymPinyin) : '';
                
                const button = createOptionButton(option, pinyin, 'player1');
                optionsPlayer1.appendChild(button);
            });
            
            // åˆ›å»ºç©å®¶2çš„é€‰é¡¹æŒ‰é’®
            player2Options.forEach(option => {
                // æŸ¥æ‰¾æ‹¼éŸ³ä¿¡æ¯
                const wordData = antonymsList.find(item => item.word === option || item.antonym === option);
                const pinyin = wordData ? (wordData.word === option ? wordData.pinyin : wordData.antonymPinyin) : '';
                
                const button = createOptionButton(option, pinyin, 'player2');
                optionsPlayer2.appendChild(button);
            });
            
            console.log('é€‰é¡¹æŒ‰é’®å·²åˆ›å»º:', {
                player1Count: optionsPlayer1.children.length,
                player2Count: optionsPlayer2.children.length
            });
        }
        
        // åˆ›å»ºé€‰é¡¹æŒ‰é’®
        function createOptionButton(text, pinyin, player) {

            const button = document.createElement('button');
            // æ ¹æ®å½“å‰å¸ƒå±€æ¨¡å¼è®¾ç½®æŒ‰é’®æ ·å¼
            if (isCurrentlyMobile) {
                // æ‰‹æœºç«¯æ ·å¼ - é€‚é…Gridï¼Œé˜²æ­¢æ–‡å­—è¶…å‡º
                button.style.cssText = `
                    display: flex !important;
                    flex-direction: column !important;
                    justify-content: center !important;
                    align-items: center !important;
                    width: 100% !important;
                    height: 100% !important;
                    background: white !important;
                    border: 2px solid #333 !important;
                    border-radius: 4px !important;
                    font-size: 12px !important;
                    font-weight: bold !important;
                    color: #333 !important;
                    cursor: pointer !important;
                    padding: 2px !important;
                    text-align: center !important;
                    box-sizing: border-box !important;
                    overflow: hidden !important;
                    word-break: keep-all !important;
                    white-space: nowrap !important;
                    text-overflow: ellipsis !important;
                `;
            } else {
                // æ¡Œé¢ç«¯æ ·å¼ - é€‚é…ç½‘æ ¼å¸ƒå±€
                button.style.cssText = `
                    display: flex !important;
                    flex-direction: column !important;
                    justify-content: center !important;
                    align-items: center !important;
                    width: 100% !important;
                    height: 100% !important;
                    background: white !important;
                    border: 2px solid #333 !important;
                    border-radius: 8px !important;
                    font-size: 16px !important;
                    font-weight: bold !important;
                    color: #333 !important;
                    cursor: pointer !important;
                    padding: 8px !important;
                    text-align: center !important;
                    box-sizing: border-box !important;
                `;
            }
            
            button.innerHTML = `
                <div style="font-size: ${isCurrentlyMobile ? '16px' : '18px'}; line-height: 1.1; margin-bottom: 2px;">${text}</div>
                <div style="font-size: ${isCurrentlyMobile ? '9px' : '10px'}; color: #666;">${pinyin || ''}</div>
            `;
            
            button.onclick = function() {
                // ç«‹å³æ˜¾ç¤ºé€‰ä¸­æ ·å¼
                this.style.borderColor = '#FFD700';
                this.style.borderWidth = '4px';
                this.style.boxShadow = '0 0 10px rgba(255, 215, 0, 0.5)';
                this.style.backgroundColor = '#FFF8DC';
                
                // å»¶è¿Ÿæ‰§è¡ŒhandleAnswerï¼Œè®©ç”¨æˆ·çœ‹åˆ°é€‰ä¸­æ•ˆæœ
                setTimeout(() => {
                    handleAnswer(this, player);
                }, 200);
            };
            
            button.dataset.option = text;
            return button;
        }
        
        // æ‰‹æœºç«¯ä¸“ç”¨å¸ƒå±€è®¾ç½® - æœ€ç®€å•æ–¹æ¡ˆ
        function setupMobileLayout() {
            console.log('å¼€å§‹åº”ç”¨æ‰‹æœºç«¯å¸ƒå±€...');
            
            // æ‰‹æœºç«¯ï¼šç¡®ä¿ç¬¬äºŒä¸ªç›®æ ‡å­—å¡ç‰‡éšè—
            const secondCard = document.getElementById('second-target-card');
            if (secondCard) {
                secondCard.classList.add('hidden');
                console.log('æ‰‹æœºç«¯ï¼šç¬¬äºŒä¸ªç›®æ ‡å­—å¡ç‰‡å·²éšè—');
            }
            
            // NOTE: å¼¹æ¡†æ–¹å‘å°†åœ¨showCorrectAnswerHintå’ŒshowAnswerToOtherPlayerå‡½æ•°ä¸­å¤„ç†
            
            // 1. ä¿®å¤ç›®æ ‡å­—æ˜¾ç¤º - åªæ˜¾ç¤ºä¸Šé¢çš„ï¼Œéšè—ä¸‹é¢çš„
            const targetWordEl = document.getElementById('target-word');
            const targetWord2El = document.getElementById('target-word-2');
            
            console.log('ç›®æ ‡å­—å…ƒç´ 1:', targetWordEl);
            console.log('ç›®æ ‡å­—å…ƒç´ 2:', targetWord2El);
            
            // æ˜¾ç¤ºä¸Šé¢çš„ç›®æ ‡å­—ï¼ˆtarget-wordï¼‰
            if (targetWordEl) {
                const parentCard = targetWordEl.closest('div');
                if (parentCard) {
                    parentCard.style.cssText = `
                        transform: none !important;
                        display: block !important;
                        visibility: visible !important;
                    `;
                    console.log('ç›®æ ‡å­—1å¡ç‰‡æ˜¾ç¤ºå·²ä¿®å¤');
                }
            }
            
            // éšè—ä¸‹é¢çš„ç›®æ ‡å­—ï¼ˆtarget-word-2ï¼‰
            if (targetWord2El) {
                const parentCard = targetWord2El.closest('div');
                if (parentCard) {
                    parentCard.style.display = 'none !important';
                    console.log('ç›®æ ‡å­—2å¡ç‰‡å·²éšè—');
                }
            }
            
            // 2. å¤‡ç”¨æ–¹æ¡ˆï¼šé€šè¿‡æ›´ç²¾ç¡®çš„é€‰æ‹©å™¨æŸ¥æ‰¾ç›®æ ‡å­—å¡ç‰‡
            const allCards = document.querySelectorAll('div[class*="bg-white"][class*="rounded-3xl"]');
            console.log('æ‰¾åˆ°æ‰€æœ‰ç™½è‰²å¡ç‰‡æ•°é‡:', allCards.length);
            
            allCards.forEach((card, index) => {
                const targetWord1 = card.querySelector('#target-word');
                const targetWord2 = card.querySelector('#target-word-2');
                
                if (targetWord1) {
                    // åŒ…å«target-wordçš„å¡ç‰‡ - æ˜¾ç¤ºå¹¶å–æ¶ˆæ—‹è½¬
                    card.style.cssText = `
                        transform: none !important;
                        display: block !important;
                        visibility: visible !important;
                    `;
                    console.log('ä¸Šæ–¹ç›®æ ‡å­—å¡ç‰‡å·²æ˜¾ç¤º');
                } else if (targetWord2) {
                    // åŒ…å«target-word-2çš„å¡ç‰‡ - éšè—
                    card.style.display = 'none !important';
                    console.log('ä¸‹æ–¹ç›®æ ‡å­—å¡ç‰‡å·²éšè—');
                }
            });
            
            // 3. ä¿®å¤ç©å®¶åŒºåŸŸå¹¶ç§»åŠ¨é€šçŸ¥æ¡†
            const playerAreas = document.querySelectorAll('div[class*="w-1/3"][class*="bg-player"]');
            console.log('æ‰¾åˆ°ç©å®¶åŒºåŸŸæ•°é‡:', playerAreas.length);
            
            playerAreas.forEach((area, index) => {
                area.style.cssText = `
                    transform: none !important;
                    width: 100% !important;
                    max-width: min(320px, calc(100vw - 1rem)) !important;
                    margin: 0.25rem auto !important;
                    padding: 0.5rem !important;
                    display: block !important;
                    position: relative !important;
                    box-sizing: border-box !important;
                    overflow: hidden !important;
                `;
                
                // å°†å¯¹åº”çš„é€šçŸ¥æ¡†ç§»åŠ¨åˆ°ç©å®¶åŒºåŸŸå†…
                const playerId = index === 0 ? 'player1' : 'player2';
                const notification = document.getElementById(`notification-${playerId}`);
                if (notification && area) {
                    area.appendChild(notification);
                    console.log(`é€šçŸ¥æ¡†${playerId}å·²ç§»åŠ¨åˆ°ç©å®¶åŒºåŸŸå†…`);
                }
                
                console.log(`ç©å®¶åŒºåŸŸ${index + 1}æ ·å¼å·²åº”ç”¨`);
            });
            
            // 4. ä¿®å¤ä¸­é—´çš„ç›®æ ‡å­—åŒºåŸŸï¼Œå¹¶éšè—ä¸‹æ–¹æ—‹è½¬çš„ç›®æ ‡å­—
            const whiteArea = document.querySelector('div[class*="w-1/3"][class*="bg-white"]');
            if (whiteArea) {
                whiteArea.style.cssText = `
                    width: 100% !important;
                    max-width: min(320px, calc(100vw - 1rem)) !important;
                    margin: 0.25rem auto !important;
                    padding: 0.75rem !important;
                    text-align: center !important;
                    box-sizing: border-box !important;
                    overflow: hidden !important;
                `;
                
                // æŸ¥æ‰¾å¹¶éšè—æ‰€æœ‰æ—‹è½¬çš„ç›®æ ‡å­—å¡ç‰‡
                const rotatedCards = whiteArea.querySelectorAll('div[class*="transform"][class*="rotate"]');
                rotatedCards.forEach(card => {
                    card.style.display = 'none !important';
                    console.log('æ—‹è½¬çš„ç›®æ ‡å­—å¡ç‰‡å·²éšè—');
                });
                
                // é¢å¤–çš„ä¿é™©ï¼šéšè—åŒ…å«target-word-2çš„æ‰€æœ‰çˆ¶çº§å…ƒç´ 
                const targetWord2Elements = whiteArea.querySelectorAll('#target-word-2');
                targetWord2Elements.forEach(el => {
                    let parent = el.parentElement;
                    while (parent && parent !== whiteArea) {
                        parent.style.display = 'none !important';
                        console.log('target-word-2çš„çˆ¶çº§å…ƒç´ å·²éšè—');
                        parent = parent.parentElement;
                    }
                });
                
                console.log('ç›®æ ‡å­—åŒºåŸŸæ ·å¼å·²åº”ç”¨');
            }
            
            // 5. ä¿®å¤æ¸¸æˆå®¹å™¨å¸ƒå±€
            const gameContainer = document.querySelector('div[class*="justify-between"]:not([class*="p-4"])');
            if (gameContainer) {
                gameContainer.style.cssText = `
                    display: flex !important;
                    flex-direction: column !important;
                    align-items: center !important;
                    height: auto !important;
                    padding: 0.5rem !important;
                `;
                console.log('æ¸¸æˆå®¹å™¨å‚ç›´å¸ƒå±€å·²åº”ç”¨');
            }
            
            // 6. ç›´æ¥éšè—ç¬¬äºŒä¸ªç›®æ ‡å­—å¡ç‰‡ï¼ˆç¬¬193è¡Œçš„divï¼‰
            const secondTargetCard = document.querySelector('div.bg-white.rounded-3xl.shadow-2xl.p-8.text-center.transform.-rotate-90');
            if (secondTargetCard) {
                secondTargetCard.style.display = 'none !important';
                secondTargetCard.style.visibility = 'hidden !important';
                secondTargetCard.style.opacity = '0 !important';
                console.log('ç›´æ¥éšè—ç¬¬äºŒä¸ªç›®æ ‡å­—å¡ç‰‡ï¼ˆ-rotate-90ï¼‰');
            }
            
            // 7. å¤‡ç”¨æ–¹æ¡ˆï¼šé€šè¿‡åŒ…å«target-word-2çš„å…ƒç´ éšè—
            const allTargetWord2Cards = document.querySelectorAll('div');
            allTargetWord2Cards.forEach(card => {
                if (card.querySelector('#target-word-2')) {
                    card.style.display = 'none !important';
                    card.style.visibility = 'hidden !important';
                    card.style.opacity = '0 !important';
                    console.log('é€šè¿‡target-word-2éšè—å¡ç‰‡');
                }
            });
            
            // 8. æœ€å¼ºåŠ›ä¿é™©ï¼šç›´æ¥éšè—æ‰€æœ‰-rotate-90çš„ç™½è‰²å¡ç‰‡
            const negativeRotateCards = document.querySelectorAll('div[class*="-rotate-90"][class*="bg-white"]');
            negativeRotateCards.forEach(card => {
                card.style.display = 'none !important';
                card.style.visibility = 'hidden !important';
                card.style.opacity = '0 !important';
                console.log('éšè—-rotate-90çš„ç™½è‰²å¡ç‰‡');
            });
            
            // 9. ç¡®ä¿é€‰é¡¹å®¹å™¨ä½¿ç”¨æ‰‹æœºç‰ˆæ ·å¼
            if (optionsPlayer1 && optionsPlayer2) {
                const mobileContainerStyle = `
                    display: grid !important;
                    grid-template-columns: 1fr 1fr !important;
                    grid-template-rows: 1fr 1fr !important;
                    gap: 4px !important;
                    width: 100% !important;
                    max-width: min(280px, calc(100vw - 2rem)) !important;
                    height: 120px !important;
                    background: rgba(255,255,255,0.9) !important;
                    border-radius: 8px !important;
                    border: none !important;
                    padding: 6px !important;
                    margin: 0.5rem auto !important;
                    box-sizing: border-box !important;
                    overflow: hidden !important;
                `;
                optionsPlayer1.style.cssText = mobileContainerStyle;
                optionsPlayer2.style.cssText = mobileContainerStyle;
                console.log('é€‰é¡¹å®¹å™¨æ‰‹æœºç‰ˆæ ·å¼å·²åº”ç”¨');
            }
            
            console.log('æ‰‹æœºç«¯å¸ƒå±€ä¿®å¤å®Œæˆï¼');
        }
        
        // å¤„ç†ç­”æ¡ˆé€‰æ‹©
        function handleAnswer(button, player) {
            if (!gameActive) return;
            
            const selectedOption = button.dataset.option;
            const isCorrect = selectedOption === currentAntonym;
            
            if (isCorrect) {
                // ç­”å¯¹äº† - ç«‹å³ç»“æŸå½“å‰è½®æ¬¡
                gameActive = false;
                clearInterval(timerInterval);
                
                button.classList.add('bg-green-100', 'border-2', 'border-green-500', 'correct-animation');
                
                // ç»™ç­”é¢˜è€…åŠ åˆ†
                if (player === 'player1') {
                    score1++;
                } else {
                    score2++;
                }
                updateScores();
                
                // æ˜¾ç¤ºç­”å¯¹æç¤º
                showCorrectAnswerHint(player);
                
                // æç¤ºå¦ä¸€æ–¹æ­£ç¡®ç­”æ¡ˆ
                const otherPlayer = player === 'player1' ? 'player2' : 'player1';
                showAnswerToOtherPlayer(otherPlayer);
                
                // å»¶è¿Ÿè¿›å…¥ä¸‹ä¸€è½®
                setTimeout(() => {
                    round++;
                    nextRound();
                }, 3000);
                
            } else {
                // ç­”é”™äº† - ä¸ç»“æŸå½“å‰è½®æ¬¡ï¼Œè®©å¦ä¸€ä¸ªç©å®¶ç»§ç»­ç­”é¢˜
                button.classList.add('bg-red-100', 'border-2', 'border-red-500');
                button.disabled = true; // ç¦ç”¨å·²ç­”é”™çš„æŒ‰é’®
                
                // é«˜äº®æ­£ç¡®ç­”æ¡ˆ
                const correctButtons = document.querySelectorAll(`[data-option="${currentAntonym}"]`);
                correctButtons.forEach(btn => {
                    btn.classList.add('bg-green-100', 'border-2', 'border-green-500');
                });
                
                // æ˜¾ç¤ºç­”é”™æç¤º
                showWrongAnswerHint(player);
                
                // æ£€æŸ¥å¦ä¸€ä¸ªç©å®¶æ˜¯å¦è¿˜æœ‰æœºä¼šç­”é¢˜
                const otherPlayer = player === 'player1' ? 'player2' : 'player1';
                const otherPlayerButtons = document.querySelectorAll(`#options-${otherPlayer} button`);
                const hasOtherPlayerAnswered = Array.from(otherPlayerButtons).some(btn => 
                    btn.classList.contains('bg-green-100') || btn.classList.contains('bg-red-100')
                );
                
                if (hasOtherPlayerAnswered) {
                    // å¦ä¸€ä¸ªç©å®¶ä¹Ÿå·²ç»ç­”é¢˜äº†ï¼Œç»“æŸå½“å‰è½®æ¬¡
                    gameActive = false;
                    clearInterval(timerInterval);
                    
                    setTimeout(() => {
                        round++;
                        nextRound();
                    }, 2000);
                }
                // å¦‚æœå¦ä¸€ä¸ªç©å®¶è¿˜æ²¡ç­”é¢˜ï¼Œç»§ç»­ç­‰å¾…
            }
        }
        
        // æ˜¾ç¤ºç­”å¯¹æç¤º
        function showCorrectAnswerHint(player) {
            const playerName = player === 'player1' ? 'ç©å®¶1' : 'ç©å®¶2';
            
            // è·å–æç¤ºæ¡†å…ƒç´  - ä¿®å¤IDé—®é¢˜
            const playerNumber = player === 'player1' ? '1' : '2';
            const notification = document.getElementById(`notification-player${playerNumber}`);
            const textEl = document.getElementById(`notification-text-player${playerNumber}`);
            const subtextEl = document.getElementById(`notification-subtext-player${playerNumber}`);

            // è°ƒè¯•ï¼šæ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨
            console.log('æŸ¥æ‰¾æç¤ºæ¡†å…ƒç´ :', `notification-player${playerNumber}`);
            console.log('notificationå…ƒç´ :', notification);
            console.log('textElå…ƒç´ :', textEl);
            console.log('subtextElå…ƒç´ :', subtextEl);

            // æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨
            if (!notification || !textEl || !subtextEl) {
                console.error('æç¤ºæ¡†å…ƒç´ æœªæ‰¾åˆ°ï¼');
                return;
            }

            // æ ¹æ®å½“å‰å¸ƒå±€æ¨¡å¼è®¾ç½®é€šçŸ¥æ ·å¼
            if (isCurrentlyMobile) {
                // æ‰‹æœºç«¯ï¼šå°†é€šçŸ¥æ˜¾ç¤ºåœ¨ç©å®¶åŒºåŸŸå†…çš„çº¢æ¡†ä½ç½®ï¼Œå‚ç›´æ°´å¹³å±…ä¸­
                notification.className = `absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg shadow-lg p-2 text-center z-[9999] border-2 border-green-500 max-w-[200px]`;
                notification.style.transform = 'translate(-50%, -50%)'; // æ°´å¹³å‚ç›´å±…ä¸­ï¼Œæ— æ—‹è½¬
                notification.style.fontSize = '12px'; // ç¼©å°å­—ä½“é€‚é…ç©ºé—´
            } else {
                // æ¡Œé¢ç«¯ï¼šä¿æŒåŸæ¥çš„å›ºå®šå®šä½å’Œæ—‹è½¬
                const rotation = player === 'player1' ? 'rotate(90deg)' : 'rotate(-90deg)';
                notification.className = `fixed top-1/4 ${player === 'player1' ? 'left-1/4' : 'right-1/4'} bg-white rounded-2xl shadow-2xl p-4 text-center z-[9999] border-4 border-green-500 transform`;
                notification.style.transform = rotation;
            }
            
            // è®¾ç½®æ–‡æœ¬å†…å®¹ - æ ¹æ®å¸ƒå±€æ¨¡å¼è°ƒæ•´å­—ä½“å¤§å°
            textEl.textContent = `æ­å–œä½ ç­”å¯¹äº†ï¼`;
            subtextEl.innerHTML = `å¾— <span class="font-bold text-green-600">1</span> åˆ†ï¼`;
            
            if (isCurrentlyMobile) {
                textEl.className = `text-sm font-bold text-green-600 mb-1`;
                subtextEl.className = `text-xs text-gray-600`;
            } else {
                textEl.className = `text-xl font-bold text-green-600 mb-1`;
                subtextEl.className = `text-lg text-gray-600 mb-1`;
            }

            // æ˜¾ç¤ºæç¤º
            notification.classList.remove('hidden');
            
            // 2ç§’åç§»é™¤æç¤º
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 2000);
        }
        
        // æç¤ºå¦ä¸€æ–¹æ­£ç¡®ç­”æ¡ˆ
        function showAnswerToOtherPlayer(otherPlayer) {
            const otherPlayerName = otherPlayer === 'player1' ? 'ç©å®¶1' : 'ç©å®¶2';
            
            // è·å–æç¤ºæ¡†å…ƒç´  - ä¿®å¤IDé—®é¢˜
            const playerNumber = otherPlayer === 'player1' ? '1' : '2';
            const notification = document.getElementById(`notification-player${playerNumber}`);
            const textEl = document.getElementById(`notification-text-player${playerNumber}`);
            const subtextEl = document.getElementById(`notification-subtext-player${playerNumber}`);

            // è°ƒè¯•ï¼šæ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨
            console.log('æŸ¥æ‰¾æç¤ºæ¡†å…ƒç´ :', `notification-player${playerNumber}`);
            console.log('notificationå…ƒç´ :', notification);
            console.log('textElå…ƒç´ :', textEl);
            console.log('subtextElå…ƒç´ :', subtextEl);

            // æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨
            if (!notification || !textEl || !subtextEl) {
                console.error('æç¤ºæ¡†å…ƒç´ æœªæ‰¾åˆ°ï¼');
                return;
            }

            // æ ¹æ®å½“å‰å¸ƒå±€æ¨¡å¼è®¾ç½®é€šçŸ¥æ ·å¼
            if (isCurrentlyMobile) {
                // æ‰‹æœºç«¯ï¼šå°†é€šçŸ¥æ˜¾ç¤ºåœ¨ç©å®¶åŒºåŸŸå†…çš„çº¢æ¡†ä½ç½®ï¼Œå‚ç›´æ°´å¹³å±…ä¸­
                notification.className = `absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg shadow-lg p-2 text-center z-[9999] border-2 border-blue-500 max-w-[200px]`;
                notification.style.transform = 'translate(-50%, -50%)'; // æ°´å¹³å‚ç›´å±…ä¸­ï¼Œæ— æ—‹è½¬
                notification.style.fontSize = '12px'; // ç¼©å°å­—ä½“é€‚é…ç©ºé—´
            } else {
                // æ¡Œé¢ç«¯ï¼šä¿æŒåŸæ¥çš„å›ºå®šå®šä½å’Œæ—‹è½¬
                const rotation = otherPlayer === 'player1' ? 'rotate(90deg)' : 'rotate(-90deg)';
                notification.className = `fixed top-1/4 ${otherPlayer === 'player1' ? 'left-1/4' : 'right-1/4'} bg-white rounded-2xl shadow-2xl p-4 text-center z-[9999] border-4 border-blue-500 transform`;
                notification.style.transform = rotation;
            }
            
            // æ£€æŸ¥æ˜¯å¦æ˜¯æ—¶é—´åˆ°æœŸçš„æƒ…å†µ
            const isTimeUp = !gameActive && countdown <= 0;
            
            if (isTimeUp) {
                // æ—¶é—´åˆ°æœŸçš„æç¤º
                textEl.textContent = `æ—¶é—´åˆ°ï¼`;
                subtextEl.innerHTML = `æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š<span class="font-bold text-green-600">${currentAntonym}</span>`;
                
                if (isCurrentlyMobile) {
                    textEl.className = `text-sm font-bold text-orange-600 mb-1`;
                    subtextEl.className = `text-xs text-gray-600`;
                } else {
                    textEl.className = `text-xl font-bold text-orange-600 mb-1`;
                    subtextEl.className = `text-lg text-gray-600 mb-1`;
                }
            } else {
                // æ­£å¸¸çš„é¢˜ç›®ç»“æŸæç¤º
                textEl.textContent = `${otherPlayerName}ï¼Œé¢˜ç›®å·²ç»“æŸ`;
                subtextEl.innerHTML = `æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š<span class="font-bold text-green-600">${currentAntonym}</span>`;
                
                if (isCurrentlyMobile) {
                    textEl.className = `text-sm font-bold text-blue-600 mb-1`;
                    subtextEl.className = `text-xs text-gray-600`;
                } else {
                    textEl.className = `text-xl font-bold text-blue-600 mb-1`;
                    subtextEl.className = `text-lg text-gray-600 mb-1`;
                }
            }

            // æ˜¾ç¤ºæç¤º
            notification.classList.remove('hidden');
            
            // 3ç§’åç§»é™¤æç¤º
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 3000);
        }
        
        // æ˜¾ç¤ºç­”é”™æç¤º
        function showWrongAnswerHint(player) {
            const playerName = player === 'player1' ? 'ç©å®¶1' : 'ç©å®¶2';
            
            // è·å–æç¤ºæ¡†å…ƒç´  - ä¿®å¤IDé—®é¢˜
            const playerNumber = player === 'player1' ? '1' : '2';
            const notification = document.getElementById(`notification-player${playerNumber}`);
            const textEl = document.getElementById(`notification-text-player${playerNumber}`);
            const subtextEl = document.getElementById(`notification-subtext-player${playerNumber}`);

            // æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨
            if (!notification || !textEl || !subtextEl) {
                console.error('æç¤ºæ¡†å…ƒç´ æœªæ‰¾åˆ°ï¼');
                return;
            }

            // æ ¹æ®å½“å‰å¸ƒå±€æ¨¡å¼è®¾ç½®é€šçŸ¥æ ·å¼
            if (isCurrentlyMobile) {
                // æ‰‹æœºç«¯ï¼šå°†é€šçŸ¥æ˜¾ç¤ºåœ¨ç©å®¶åŒºåŸŸå†…çš„çº¢æ¡†ä½ç½®ï¼Œå‚ç›´æ°´å¹³å±…ä¸­
                notification.className = `absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg shadow-lg p-2 text-center z-[9999] border-2 border-red-500 max-w-[200px]`;
                notification.style.transform = 'translate(-50%, -50%)'; // æ°´å¹³å‚ç›´å±…ä¸­ï¼Œæ— æ—‹è½¬
                notification.style.fontSize = '12px'; // ç¼©å°å­—ä½“é€‚é…ç©ºé—´
            } else {
                // æ¡Œé¢ç«¯ï¼šä¿æŒåŸæ¥çš„å›ºå®šå®šä½å’Œæ—‹è½¬
                const rotation = player === 'player1' ? 'rotate(90deg)' : 'rotate(-90deg)';
                notification.className = `fixed top-1/4 ${player === 'player1' ? 'left-1/4' : 'right-1/4'} bg-white rounded-2xl shadow-2xl p-4 text-center z-[9999] border-4 border-red-500 transform`;
                notification.style.transform = rotation;
            }
            
            // è®¾ç½®æ–‡æœ¬å†…å®¹ - æ ¹æ®å¸ƒå±€æ¨¡å¼è°ƒæ•´å­—ä½“å¤§å°
            textEl.textContent = `${playerName} ç­”é”™äº†`;
            subtextEl.innerHTML = `æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š<span class="font-bold text-green-600">${currentAntonym}</span>`;
            
            if (isCurrentlyMobile) {
                textEl.className = `text-sm font-bold text-red-600 mb-1`;
                subtextEl.className = `text-xs text-gray-600`;
            } else {
                textEl.className = `text-xl font-bold text-red-600 mb-1`;
                subtextEl.className = `text-lg text-gray-600 mb-1`;
            }

            // æ˜¾ç¤ºæç¤º
            notification.classList.remove('hidden');
            
            // 1.5ç§’åç§»é™¤æç¤º
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 1500);
        }
        
        // å¼€å§‹å€’è®¡æ—¶
        function startCountdown() {
            clearInterval(timerInterval);
            
            if (!isTimerEnabled) {
                // ä¸é™æ—¶æ¨¡å¼ï¼Œæ˜¾ç¤ºæ— é™ç¬¦å·
                countdownEl.textContent = 'âˆ';
                countdownPlayer1El.textContent = 'âˆ';
                countdownPlayer2El.textContent = 'âˆ';
                return;
            }
            
            countdown = 10;
            countdownEl.textContent = countdown;
            countdownPlayer1El.textContent = countdown;
            countdownPlayer2El.textContent = countdown;
            
            timerInterval = setInterval(() => {
                countdown--;
                countdownEl.textContent = countdown;
                countdownPlayer1El.textContent = countdown;
                countdownPlayer2El.textContent = countdown;
                
                if (countdown <= 0) {
                    clearInterval(timerInterval);
                    if (gameActive) {
                        // æ—¶é—´åˆ°ï¼Œæ— äººå›ç­”
                        gameActive = false;
                        
                        // æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆ
                        const correctButtons = document.querySelectorAll(`[data-option="${currentAntonym}"]`);
                        correctButtons.forEach(btn => {
                            btn.classList.add('bg-green-100', 'border-2', 'border-green-500');
                        });
                        
                        // ç»™ä¸¤ä¸ªç©å®¶éƒ½æ˜¾ç¤ºæ—¶é—´åˆ°æç¤º
                        showAnswerToOtherPlayer('player1');
                        showAnswerToOtherPlayer('player2');
                        
                        // å»¶è¿Ÿè¿›å…¥ä¸‹ä¸€è½®
                        setTimeout(() => {
                            round++;
                            nextRound();
                        }, 2000);
                    }
                }
            }, 1000);
        }
        
        // æ›´æ–°åˆ†æ•°æ˜¾ç¤º
        function updateScores() {
            score1El.textContent = score1;
            score2El.textContent = score2;
        }
        
        // ç»“æŸæ¸¸æˆ
        function endGame() {
            clearInterval(timerInterval);
            gameScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            
            // æ˜¾ç¤ºæœ€ç»ˆåˆ†æ•°
            finalScore1El.textContent = score1;
            finalScore2El.textContent = score2;
            
            // æ˜¾ç¤ºè·èƒœè€…
            if (score1 > score2) {
                winnerMessageEl.textContent = "ç©å®¶1è·èƒœï¼å¤ªæ£’äº†ï¼";
                winnerMessageEl.className = "text-xl font-bold mb-8 p-4 rounded-xl bg-player1/20 text-player1";
            } else if (score2 > score1) {
                winnerMessageEl.textContent = "ç©å®¶2è·èƒœï¼å¤ªå‰å®³äº†ï¼";
                winnerMessageEl.className = "text-xl font-bold mb-8 p-4 rounded-xl bg-player2/20 text-player2";
            } else {
                winnerMessageEl.textContent = "å¹³å±€ï¼ä½ ä»¬éƒ½å¾ˆæ£’ï¼";
                winnerMessageEl.className = "text-xl font-bold mb-8 p-4 rounded-xl bg-accent/20 text-text";
            }

            // è®°å½•åˆ°å­¦ä¹ ä¸­å¿ƒï¼ˆè¯­æ–‡-åä¹‰è¯ï¼Œå¯¹æˆ˜æ¨¡å¼æŒ‰åŒæ–¹å¹³å‡åˆ†è®°å½•ï¼‰
            try {
                if (window.recordLearningProgress) {
                    const totalQuestions = (rounds || 0) * (pairsPerRound || 0);
                    const acc1 = Math.round((correct1 || 0) / Math.max(1, totalQuestions) * 100);
                    const acc2 = Math.round((correct2 || 0) / Math.max(1, totalQuestions) * 100);
                    const avgAcc = Math.round((acc1 + acc2) / 2);
                    const totalTime = totalQuestions * 10; // æ¯é¢˜çº¦10ç§’
                    window.recordLearningProgress('chinese', 'antonyms', avgAcc, totalTime);
                }
                try { if (window.achievements) window.achievements.unlockAchievement('antv_first_match'); } catch(_) {}
            } catch (_) {}
        }
        
        // æ‰“ä¹±æ•°ç»„é¡ºåºçš„å·¥å…·å‡½æ•°
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        // é”å®šæ—‹è½¬åŠŸèƒ½
        function toggleRotationLock() {
            isRotationLocked = !isRotationLocked;
            
            if (isRotationLocked) {
                // é”å®šæ—‹è½¬
                lockIcon.className = 'fa fa-unlock text-green-600';
                lockText.textContent = 'å·²é”å®š';
                lockText.className = 'ml-2 text-sm font-bold text-green-600';
                lockRotationBtn.className = 'bg-green-100/90 backdrop-blur-sm px-4 py-2 rounded-full shadow-md transition-all duration-300 hover:scale-105 active:scale-95 border-2 border-green-500';
                
                // å°è¯•é”å®šå±å¹•æ–¹å‘ä¸ºç«–å±
                if (screen.orientation && screen.orientation.lock) {
                    screen.orientation.lock('portrait').catch(err => {
                        console.log('æ— æ³•é”å®šå±å¹•æ–¹å‘:', err);
                    });
                }
                
                // æ˜¾ç¤ºé”å®šæç¤º
                showLockNotification('å±å¹•æ—‹è½¬å·²é”å®š');
            } else {
                // è§£é”æ—‹è½¬
                lockIcon.className = 'fa fa-lock text-gray-600';
                lockText.textContent = 'é”å®šæ—‹è½¬';
                lockText.className = 'ml-2 text-sm font-bold text-gray-600';
                lockRotationBtn.className = 'bg-white/90 backdrop-blur-sm px-4 py-2 rounded-full shadow-md transition-all duration-300 hover:scale-105 active:scale-95';
                
                // å°è¯•è§£é”å±å¹•æ–¹å‘
                if (screen.orientation && screen.orientation.unlock) {
                    screen.orientation.unlock();
                }
                
                // æ˜¾ç¤ºè§£é”æç¤º
                showLockNotification('å±å¹•æ—‹è½¬å·²è§£é”');
            }
        }
        
        // æ˜¾ç¤ºé”å®šçŠ¶æ€æç¤º
        function showLockNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'fixed top-20 left-1/2 transform -translate-x-1/2 bg-white/90 backdrop-blur-sm px-6 py-3 rounded-full shadow-lg z-[9999] border-2 border-accent';
            notification.innerHTML = `
                <span class="text-sm font-bold text-accent">${message}</span>
            `;
            document.body.appendChild(notification);
            
            // 2ç§’åç§»é™¤æç¤º
            setTimeout(() => {
                notification.remove();
            }, 2000);
        }
        
        // åˆ‡æ¢å¸ƒå±€æ¨¡å¼
        function toggleLayout() {
            const layoutIcon = document.getElementById('layout-icon');
            const layoutText = document.getElementById('layout-text');
            
            // åˆ‡æ¢å¸ƒå±€çŠ¶æ€
            if (layoutMode === 'desktop' || (layoutMode === 'auto' && !isCurrentlyMobile)) {
                // åˆ‡æ¢åˆ°æ‰‹æœºç‰ˆ
                layoutMode = 'mobile';
                isCurrentlyMobile = true;
                setupMobileLayout();
                layoutIcon.className = 'fa fa-desktop text-gray-600';
                layoutText.textContent = 'æ¡Œé¢ç‰ˆ';
                showLockNotification('å·²åˆ‡æ¢åˆ°æ‰‹æœºç‰ˆå¸ƒå±€');
            } else {
                // åˆ‡æ¢åˆ°æ¡Œé¢ç‰ˆ
                layoutMode = 'desktop';
                isCurrentlyMobile = false;
                setupDesktopLayout();
                layoutIcon.className = 'fa fa-mobile text-gray-600';
                layoutText.textContent = 'æ‰‹æœºç‰ˆ';
                showLockNotification('å·²åˆ‡æ¢åˆ°æ¡Œé¢ç‰ˆå¸ƒå±€');
            }
            
            // é‡è¦ï¼šé‡æ–°ç”Ÿæˆé€‰é¡¹æŒ‰é’®ä»¥åº”ç”¨æ–°çš„å¸ƒå±€æ ·å¼
            if (gameActive && currentWord && currentAntonym) {
                console.log('å¸ƒå±€åˆ‡æ¢åé‡æ–°ç”Ÿæˆé€‰é¡¹æŒ‰é’®');
                generateOptions();
            }
        }
        
        // è®¾ç½®æ¡Œé¢ç‰ˆå¸ƒå±€
        function setupDesktopLayout() {
            console.log('å¼€å§‹åº”ç”¨æ¡Œé¢ç‰ˆå¸ƒå±€...');
            
            // 1. æ¢å¤ç¬¬äºŒä¸ªç›®æ ‡å­—å¡ç‰‡æ˜¾ç¤º
            const secondCard = document.getElementById('second-target-card');
            if (secondCard) {
                secondCard.classList.remove('hidden');
                secondCard.style.cssText = `
                    transform: rotate(-90deg) !important;
                    display: block !important;
                `;
                console.log('æ¡Œé¢ç‰ˆï¼šç¬¬äºŒä¸ªç›®æ ‡å­—å¡ç‰‡å·²æ˜¾ç¤º');
            }
            
            // 2. æ¢å¤ç›®æ ‡å­—å¡ç‰‡çš„æ—‹è½¬
            const targetWordEl = document.getElementById('target-word');
            const targetWord2El = document.getElementById('target-word-2');
            
            if (targetWordEl) {
                const parentCard = targetWordEl.closest('div');
                if (parentCard) {
                    parentCard.style.cssText = `
                        transform: rotate(90deg) !important;
                        display: block !important;
                        visibility: visible !important;
                    `;
                }
            }
            
            if (targetWord2El) {
                const parentCard = targetWord2El.closest('div');
                if (parentCard) {
                    parentCard.style.cssText = `
                        transform: rotate(-90deg) !important;
                        display: block !important;
                        visibility: visible !important;
                    `;
                }
            }
            
            // 3. æ¢å¤ç©å®¶åŒºåŸŸçš„æ—‹è½¬å’ŒåŸå§‹å¸ƒå±€
            const playerAreas = document.querySelectorAll('div[class*="w-1/3"][class*="bg-player"]');
            console.log('æ‰¾åˆ°ç©å®¶åŒºåŸŸæ•°é‡:', playerAreas.length);
            
            playerAreas.forEach((area, index) => {
                if (index === 0) {
                    // ç©å®¶1åŒºåŸŸ - 90åº¦é¡ºæ—¶é’ˆæ—‹è½¬
                    area.style.cssText = `
                        transform: rotate(90deg) !important;
                        width: 33.333333% !important;
                        margin-right: 6rem !important;
                        transform-origin: center !important;
                        transform: rotate(90deg) translateX(-5rem) !important;
                        display: flex !important;
                        flex-direction: column !important;
                    `;
                } else {
                    // ç©å®¶2åŒºåŸŸ - 90åº¦é€†æ—¶é’ˆæ—‹è½¬
                    area.style.cssText = `
                        transform: rotate(-90deg) !important;
                        width: 33.333333% !important;
                        margin-left: 6rem !important;
                        transform-origin: center !important;
                        transform: rotate(-90deg) translateX(5rem) !important;
                        display: flex !important;
                        flex-direction: column !important;
                    `;
                }
                console.log(`ç©å®¶åŒºåŸŸ${index + 1}æ¡Œé¢ç‰ˆæ ·å¼å·²æ¢å¤`);
            });
            
            // 4. æ¢å¤ä¸­é—´ç›®æ ‡å­—åŒºåŸŸ
            const whiteArea = document.querySelector('div[class*="w-1/3"][class*="bg-white"]');
            if (whiteArea) {
                whiteArea.style.cssText = `
                    width: 33.333333% !important;
                    display: flex !important;
                    flex-direction: column !important;
                    justify-content: center !important;
                    align-items: center !important;
                    padding: 1rem !important;
                `;
                
                // æ˜¾ç¤ºæ‰€æœ‰æ—‹è½¬çš„ç›®æ ‡å­—å¡ç‰‡
                const rotatedCards = whiteArea.querySelectorAll('div[class*="transform"]');
                rotatedCards.forEach(card => {
                    card.style.display = 'block !important';
                });
                
                console.log('ç›®æ ‡å­—åŒºåŸŸæ¡Œé¢ç‰ˆæ ·å¼å·²æ¢å¤');
            }
            
            // 5. æ¢å¤æ¸¸æˆå®¹å™¨çš„æ¨ªå‘å¸ƒå±€
            const gameContainer = document.querySelector('.flex-1.flex.overflow-hidden');
            if (gameContainer) {
                gameContainer.style.cssText = `
                    display: flex !important;
                    flex-direction: row !important;
                    align-items: center !important;
                    justify-content: center !important;
                    min-height: 100vh !important;
                `;
                console.log('æ¸¸æˆå®¹å™¨æ¨ªå‘å¸ƒå±€å·²æ¢å¤');
            }
            
            // 6. ç¡®ä¿é€‰é¡¹å®¹å™¨ä½¿ç”¨æ¡Œé¢ç‰ˆç½‘æ ¼æ ·å¼
            if (optionsPlayer1 && optionsPlayer2) {
                const desktopContainerStyle = `
                    display: grid !important;
                    grid-template-columns: 1fr 1fr !important;
                    grid-template-rows: 1fr 1fr !important;
                    gap: 8px !important;
                    width: 300px !important;
                    height: 200px !important;
                    background: #f0f0f0 !important;
                    border: 2px solid #ccc !important;
                    padding: 10px !important;
                    margin: 10px auto !important;
                    box-sizing: border-box !important;
                `;
                optionsPlayer1.style.cssText = desktopContainerStyle;
                optionsPlayer2.style.cssText = desktopContainerStyle;
                console.log('é€‰é¡¹å®¹å™¨æ¡Œé¢ç‰ˆç½‘æ ¼æ ·å¼å·²æ¢å¤');
            }
            
            console.log('âœ… æ¡Œé¢ç‰ˆå¸ƒå±€å·²å®Œå…¨æ¢å¤');
        }
        

        

    </script>
</body>
</html>
