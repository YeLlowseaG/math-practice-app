<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>单词图片生成器</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .float-animation {
            animation: float 3s ease-in-out infinite;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .image-container {
            min-height: 300px;
            background: linear-gradient(45deg, #f0f0f0 25%, transparent 25%), 
                        linear-gradient(-45deg, #f0f0f0 25%, transparent 25%), 
                        linear-gradient(45deg, transparent 75%, #f0f0f0 75%), 
                        linear-gradient(-45deg, transparent 75%, #f0f0f0 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        }
        
        .loading {
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- 标题区域 -->
        <div class="text-center mb-8">
            <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center text-4xl text-purple-600 shadow-lg mx-auto mb-4 float-animation">
                <i class="fa fa-image"></i>
            </div>
            <h1 class="text-4xl font-bold text-white mb-2">单词图片生成器</h1>
            <p class="text-white/80 text-lg">输入单词，生成对应的图片</p>
        </div>

        <!-- 主要功能区域 -->
        <div class="max-w-4xl mx-auto">
            <!-- 输入区域 -->
            <div class="bg-white rounded-3xl shadow-2xl p-8 mb-8 card-hover">
                <div class="flex flex-col md:flex-row gap-4">
                    <div class="flex-1">
                        <label class="block text-gray-700 text-sm font-bold mb-2">
                            <i class="fa fa-keyboard mr-2"></i>输入单词
                        </label>
                        <input 
                            type="text" 
                            id="wordInput" 
                            placeholder="例如：cat, dog, house, tree..."
                            class="w-full px-4 py-3 border-2 border-gray-300 rounded-2xl focus:border-purple-500 focus:outline-none text-lg transition-all duration-300"
                            onkeypress="handleKeyPress(event)"
                        >
                    </div>
                    <div class="flex flex-col gap-2">
                        <button 
                            onclick="generateImage()" 
                            id="generateBtn"
                            class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-pink-500 hover:to-purple-500 text-white font-bold py-3 px-8 rounded-2xl transition-all duration-300 transform hover:scale-105 active:scale-95 flex items-center justify-center"
                        >
                            <i class="fa fa-magic mr-2"></i>
                            <span id="btnText">生成图片</span>
                        </button>
                        <button 
                            onclick="clearAll()" 
                            class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-2xl transition-all duration-300 transform hover:scale-105 active:scale-95 flex items-center justify-center"
                        >
                            <i class="fa fa-trash mr-2"></i>清空
                        </button>
                    </div>
                </div>
                
                <!-- 快速选择区域 -->
                <div class="mt-6">
                    <label class="block text-gray-700 text-sm font-bold mb-3">
                        <i class="fa fa-bolt mr-2"></i>快速选择
                    </label>
                    <div class="flex flex-wrap gap-2">
                        <button onclick="quickSelect('cat')" class="bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-sm transition-colors">猫</button>
                        <button onclick="quickSelect('dog')" class="bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-sm transition-colors">狗</button>
                        <button onclick="quickSelect('house')" class="bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-sm transition-colors">房子</button>
                        <button onclick="quickSelect('tree')" class="bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-sm transition-colors">树</button>
                        <button onclick="quickSelect('car')" class="bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-sm transition-colors">汽车</button>
                        <button onclick="quickSelect('book')" class="bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-sm transition-colors">书</button>
                        <button onclick="quickSelect('flower')" class="bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-sm transition-colors">花</button>
                        <button onclick="quickSelect('star')" class="bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-sm transition-colors">星星</button>
                    </div>
                </div>
            </div>

            <!-- 图片显示区域 -->
            <div class="bg-white rounded-3xl shadow-2xl p-8 card-hover">
                <div class="text-center mb-4">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">
                        <i class="fa fa-image mr-2"></i>生成的图片
                    </h2>
                    <p class="text-gray-600" id="currentWord">请输入单词开始生成</p>
                </div>
                
                <div class="image-container rounded-2xl border-2 border-dashed border-gray-300 flex items-center justify-center" id="imageContainer">
                    <div class="text-center text-gray-500" id="placeholder">
                        <i class="fa fa-image text-6xl mb-4"></i>
                        <p class="text-lg">图片将在这里显示</p>
                    </div>
                </div>
                
                <!-- 图片信息 -->
                <div class="mt-4 text-center" id="imageInfo" style="display: none;">
                    <div class="bg-gray-100 rounded-2xl p-4">
                        <div class="flex items-center justify-center gap-4 text-sm text-gray-600">
                            <span><i class="fa fa-clock mr-1"></i>生成时间: <span id="generateTime"></span></span>
                            <span><i class="fa fa-image mr-1"></i>图片类型: <span id="imageType"></span></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 历史记录 -->
            <div class="bg-white rounded-3xl shadow-2xl p-8 mt-8 card-hover">
                <h3 class="text-xl font-bold text-gray-800 mb-4">
                    <i class="fa fa-history mr-2"></i>历史记录
                </h3>
                <div id="historyContainer" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
                    <!-- 历史记录将在这里显示 -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // 图标映射表
        const iconMap = {
            // 动物类
            'cat': 'fa-paw', 'dog': 'fa-paw', 'rabbit': 'fa-paw', 'duck': 'fa-dove', 'chicken': 'fa-dove', 
            'cow': 'fa-horse', 'pig': 'fa-horse', 'bear': 'fa-horse', 'panda': 'fa-horse', 'tiger': 'fa-horse', 
            'lion': 'fa-horse', 'monkey': 'fa-horse', 'elephant': 'fa-horse', 'zebra': 'fa-horse', 
            'ant': 'fa-bug', 'bee': 'fa-bug', 'butterfly': 'fa-bug', 'frog': 'fa-fish', 'bird': 'fa-dove', 'fish': 'fa-fish',
            
            // 食物类
            'apple': 'fa-apple-alt', 'banana': 'fa-apple-alt', 'orange': 'fa-apple-alt', 'grape': 'fa-apple-alt', 
            'watermelon': 'fa-apple-alt', 'strawberry': 'fa-apple-alt', 'cake': 'fa-birthday-cake', 'bread': 'fa-birthday-cake', 
            'milk': 'fa-wine-bottle', 'egg': 'fa-egg', 'rice': 'fa-apple-alt', 'noodles': 'fa-apple-alt', 
            'ice cream': 'fa-ice-cream', 'juice': 'fa-wine-bottle', 'water': 'fa-wine-bottle', 'candy': 'fa-candy-cane', 
            'chocolate': 'fa-candy-cane', 'cookie': 'fa-cookie-bite', 'vegetable': 'fa-carrot', 'fruit': 'fa-apple-alt',
            
            // 颜色和形状
            'red': 'fa-palette', 'yellow': 'fa-palette', 'blue': 'fa-palette', 'green': 'fa-palette', 
            'pink': 'fa-palette', 'black': 'fa-palette', 'white': 'fa-palette', 'circle': 'fa-circle', 
            'square': 'fa-square', 'star': 'fa-star', 'triangle': 'fa-play', 'heart': 'fa-heart',
            
            // 身体部位
            'head': 'fa-user', 'eye': 'fa-eye', 'nose': 'fa-user', 'mouth': 'fa-user', 'ear': 'fa-user', 
            'hand': 'fa-hand-paper', 'arm': 'fa-user', 'leg': 'fa-user', 'foot': 'fa-user', 'hair': 'fa-user', 
            'face': 'fa-user', 'tooth': 'fa-user',
            
            // 家庭成员
            'mother': 'fa-female', 'father': 'fa-male', 'baby': 'fa-baby', 'sister': 'fa-female', 
            'brother': 'fa-male', 'grandma': 'fa-female', 'grandpa': 'fa-male', 'family': 'fa-users',
            
            // 数字和时间
            'one': 'fa-hashtag', 'two': 'fa-hashtag', 'three': 'fa-hashtag', 'four': 'fa-hashtag', 
            'five': 'fa-hashtag', 'six': 'fa-hashtag', 'seven': 'fa-hashtag', 'eight': 'fa-hashtag', 
            'nine': 'fa-hashtag', 'ten': 'fa-hashtag', 'sun': 'fa-sun', 'moon': 'fa-moon', 'day': 'fa-sun', 
            'night': 'fa-moon', 'morning': 'fa-sun', 'today': 'fa-calendar-day', 'tomorrow': 'fa-calendar-day', 'clock': 'fa-clock',
            
            // 日常用品
            'ball': 'fa-circle', 'doll': 'fa-child', 'kite': 'fa-paper-plane', 'book': 'fa-book', 
            'pencil': 'fa-pencil-alt', 'crayon': 'fa-pencil-alt', 'bag': 'fa-briefcase', 'chair': 'fa-chair', 
            'table': 'fa-table', 'bed': 'fa-bed', 'door': 'fa-door-open', 'window': 'fa-window-maximize', 
            'cup': 'fa-mug-hot', 'plate': 'fa-circle', 'spoon': 'fa-utensils', 'toy': 'fa-child', 
            'computer': 'fa-laptop', 'tv': 'fa-tv', 'phone': 'fa-phone', 'light': 'fa-lightbulb', 
            'car': 'fa-car', 'bus': 'fa-bus', 'bike': 'fa-bicycle', 'boat': 'fa-ship', 'house': 'fa-home', 
            'tree': 'fa-tree', 'flower': 'fa-seedling', 'balloon': 'fa-circle',
            
            // 动作动词
            'run': 'fa-running', 'jump': 'fa-running', 'play': 'fa-gamepad', 'eat': 'fa-utensils', 
            'drink': 'fa-wine-bottle', 'read': 'fa-book-open', 'draw': 'fa-paint-brush', 'sing': 'fa-music', 
            'dance': 'fa-music', 'sleep': 'fa-bed', 'swim': 'fa-swimming-pool', 'walk': 'fa-walking', 
            'see': 'fa-eye', 'hear': 'fa-ear', 'say': 'fa-comment', 'laugh': 'fa-laugh', 'cry': 'fa-sad-tear', 
            'sit': 'fa-chair', 'stand': 'fa-user', 'give': 'fa-hand-holding-heart', 'like': 'fa-heart', 
            'love': 'fa-heart', 'go': 'fa-arrow-right', 'come': 'fa-arrow-left', 'open': 'fa-door-open', 
            'close': 'fa-door-closed', 'wash': 'fa-hands-wash', 'help': 'fa-hands-helping',
            
            // 自然和天气
            'rain': 'fa-cloud-rain', 'snow': 'fa-snowflake', 'cloud': 'fa-cloud', 'wind': 'fa-wind', 
            'sky': 'fa-cloud', 'river': 'fa-water', 'mountain': 'fa-mountain', 'grass': 'fa-seedling', 
            'sea': 'fa-water', 'hot': 'fa-thermometer-full', 'cold': 'fa-thermometer-empty', 
            'warm': 'fa-thermometer-half', 'sunny': 'fa-sun', 'rainy': 'fa-cloud-rain', 'rainbow': 'fa-rainbow',
            
            // 地点和职业
            'school': 'fa-graduation-cap', 'home': 'fa-home', 'park': 'fa-tree', 'zoo': 'fa-horse', 
            'shop': 'fa-shopping-cart', 'hospital': 'fa-hospital', 'teacher': 'fa-chalkboard-teacher', 
            'doctor': 'fa-user-md', 'nurse': 'fa-user-nurse', 'policeman': 'fa-shield-alt', 'farmer': 'fa-user-tie', 
            'cook': 'fa-utensils', 'student': 'fa-user-graduate', 'friend': 'fa-users', 'boy': 'fa-male', 'girl': 'fa-female'
        };

        // 历史记录
        let history = [];

        // 获取图标
        function getIconForWord(word) {
            const wordLower = word.toLowerCase();
            
            // 直接匹配
            if (iconMap[wordLower]) {
                return `<i class="fa ${iconMap[wordLower]}"></i>`;
            }
            
            // 智能匹配
            for (const [key, icon] of Object.entries(iconMap)) {
                if (wordLower.includes(key) || key.includes(wordLower)) {
                    return `<i class="fa ${icon}"></i>`;
                }
            }
            
            // 默认图标
            return '<i class="fa fa-question"></i>';
        }

        // 生成图片
        function generateImage() {
            const word = document.getElementById('wordInput').value.trim();
            if (!word) {
                alert('请输入单词！');
                return;
            }

            // 显示加载状态
            const btn = document.getElementById('generateBtn');
            const btnText = document.getElementById('btnText');
            btn.disabled = true;
            btnText.innerHTML = '<i class="fa fa-spinner loading mr-2"></i>生成中...';

            // 模拟生成过程
            setTimeout(() => {
                const icon = getIconForWord(word);
                const imageContainer = document.getElementById('imageContainer');
                const placeholder = document.getElementById('placeholder');
                const currentWord = document.getElementById('currentWord');
                const imageInfo = document.getElementById('imageInfo');
                const generateTime = document.getElementById('generateTime');
                const imageType = document.getElementById('imageType');

                // 更新显示
                placeholder.style.display = 'none';
                imageContainer.innerHTML = `
                    <div class="text-center">
                        <div class="text-8xl text-purple-600 mb-4">${icon}</div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">${word.toUpperCase()}</h3>
                        <p class="text-gray-600">${getWordDescription(word)}</p>
                    </div>
                `;

                currentWord.textContent = `当前单词: ${word.toUpperCase()}`;
                generateTime.textContent = new Date().toLocaleTimeString();
                imageType.textContent = 'Font Awesome 图标';
                imageInfo.style.display = 'block';

                // 添加到历史记录
                addToHistory(word, icon);

                // 恢复按钮状态
                btn.disabled = false;
                btnText.innerHTML = '<i class="fa fa-magic mr-2"></i>生成图片';
            }, 1000);
        }

        // 获取单词描述
        function getWordDescription(word) {
            const descriptions = {
                'cat': '喵喵叫的动物',
                'dog': '人类最好的朋友',
                'house': '人们居住的地方',
                'tree': '绿色的植物',
                'car': '四个轮子的交通工具',
                'book': '用来阅读的物品',
                'flower': '美丽的花朵',
                'star': '夜空中闪烁的光点'
            };
            
            const wordLower = word.toLowerCase();
            return descriptions[wordLower] || '点击生成的图标';
        }

        // 添加到历史记录
        function addToHistory(word, icon) {
            const historyItem = {
                word: word,
                icon: icon,
                time: new Date().toLocaleTimeString()
            };
            
            history.unshift(historyItem);
            if (history.length > 12) {
                history.pop();
            }
            
            updateHistoryDisplay();
        }

        // 更新历史记录显示
        function updateHistoryDisplay() {
            const container = document.getElementById('historyContainer');
            container.innerHTML = '';
            
            history.forEach((item, index) => {
                const historyCard = document.createElement('div');
                historyCard.className = 'bg-gray-100 rounded-2xl p-4 text-center cursor-pointer hover:bg-gray-200 transition-colors';
                historyCard.onclick = () => {
                    document.getElementById('wordInput').value = item.word;
                    generateImage();
                };
                
                historyCard.innerHTML = `
                    <div class="text-3xl text-purple-600 mb-2">${item.icon}</div>
                    <div class="text-sm font-bold text-gray-800 mb-1">${item.word.toUpperCase()}</div>
                    <div class="text-xs text-gray-500">${item.time}</div>
                `;
                
                container.appendChild(historyCard);
            });
        }

        // 快速选择
        function quickSelect(word) {
            document.getElementById('wordInput').value = word;
            generateImage();
        }

        // 清空所有
        function clearAll() {
            document.getElementById('wordInput').value = '';
            document.getElementById('imageContainer').innerHTML = `
                <div class="text-center text-gray-500" id="placeholder">
                    <i class="fa fa-image text-6xl mb-4"></i>
                    <p class="text-lg">图片将在这里显示</p>
                </div>
            `;
            document.getElementById('currentWord').textContent = '请输入单词开始生成';
            document.getElementById('imageInfo').style.display = 'none';
        }

        // 键盘事件
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                generateImage();
            }
        }

        // 页面加载时初始化
        window.onload = function() {
            // 从本地存储加载历史记录
            const savedHistory = localStorage.getItem('wordImageHistory');
            if (savedHistory) {
                history = JSON.parse(savedHistory);
                updateHistoryDisplay();
            }
        };

        // 保存历史记录到本地存储
        function saveHistory() {
            localStorage.setItem('wordImageHistory', JSON.stringify(history));
        }

        // 修改addToHistory函数以保存到本地存储
        const originalAddToHistory = addToHistory;
        addToHistory = function(word, icon) {
            originalAddToHistory(word, icon);
            saveHistory();
        };
    </script>
</body>
</html>